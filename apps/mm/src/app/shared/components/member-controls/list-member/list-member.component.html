<ng-container *transloco="let t">
  <input
    *ngIf="isBoolean; else dropdown"
    type="checkbox"
    [formControl]="control"
  />

  <ng-template #dropdown>
    <ng-container
      *ngIf="
        !meta.listValuesLoading$ || !(meta.listValuesLoading$ | ngrxPush);
        else loading
      "
    >
      <ng-container *ngIf="!(isPictureList$ | ngrxPush); else pictureCardList">
        <schaeffler-dropdown-input
          *ngIf="
            isDropdownInput(meta.member?.type, meta.member?.id);
            else select
          "
          [label]="
            meta.page.id === PROPERTY_PAGE_MOUNTING_SITUATION_SUB ||
            meta.page.id === PROPERTY_PAGE_MOUNTING
              ? meta.member.text
              : undefined
          "
          [options]="options$ | ngrxPush"
          [formControl]="control"
          [placeholder]="
            t('form.select', { fieldname: meta.member.text | transloco })
          "
        ></schaeffler-dropdown-input>
        <ng-template #select>
          <mm-select-member [options]="options$ | ngrxPush"></mm-select-member>
        </ng-template>
      </ng-container>
    </ng-container>
  </ng-template>

  <ng-template #pictureCardList>
    <mm-picture-card-list
      [options]="options$ | ngrxPush"
      [formControl]="control"
      [translationRequired]="meta.member.type === 'list'"
    ></mm-picture-card-list>
  </ng-template>

  <ng-template #loading>
    <div>
      <schaeffler-loading-spinner
        [relative]="true"
      ></schaeffler-loading-spinner>
    </div>
  </ng-template>
</ng-container>
