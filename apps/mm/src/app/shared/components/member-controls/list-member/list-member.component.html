<ng-container *transloco="let t">
  <input
    *ngIf="isBoolean; else dropdown"
    type="checkbox"
    [formControl]="control"
  />

  <ng-template #dropdown>
    <ng-container
      *ngIf="
        !meta.listValuesLoading$ || !(meta.listValuesLoading$ | ngrxPush);
        else loading
      "
    >
      <ng-container *ngIf="!(isPictureList$ | ngrxPush); else pictureCardList">
        <div
          [ngClass]="
            meta.page.id !== PROPERTY_PAGE_MOUNTING &&
            meta.page.id !== PROPERTY_PAGE_MOUNTING_SITUATION_SUB
              ? 'max-w-sm'
              : ''
          "
        >
          <schaeffler-dropdown-input
            *ngIf="
              isDropdownInput(meta.member?.type, meta.member?.id);
              else select
            "
            [label]="
              meta.page.id === PROPERTY_PAGE_MOUNTING_SITUATION_SUB ||
              meta.page.id === PROPERTY_PAGE_MOUNTING
                ? meta.member.text
                : undefined
            "
            [options]="options$ | ngrxPush"
            [formControl]="control"
            [placeholder]="
              t('form.select', { fieldname: meta.member.text | transloco })
            "
          ></schaeffler-dropdown-input>
          <ng-template #select>
            <mm-select-member
              [placeholder]="
                meta.member.id === 'IDMM_MEASSURING_METHOD'
                  ? t('form.select', {
                      fieldname: meta.member.text | transloco
                    })
                  : ''
              "
              [options]="options$ | ngrxPush"
            ></mm-select-member>
          </ng-template>
        </div>
      </ng-container>
    </ng-container>
  </ng-template>

  <ng-template #pictureCardList>
    <mm-picture-card-list
      [options]="options$ | ngrxPush"
      [formControl]="control"
      [translationRequired]="meta.member.type === 'list'"
    ></mm-picture-card-list>
  </ng-template>

  <ng-template #loading>
    <div>
      <schaeffler-loading-spinner
        [relative]="true"
      ></schaeffler-loading-spinner>
    </div>
  </ng-template>
</ng-container>
