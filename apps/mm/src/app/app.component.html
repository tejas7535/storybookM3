<ng-container *transloco="let t">
  <schaeffler-header
    *ngIf="!embedded"
    [platformTitle]="title"
    [link]="'/'"
    class="h-full"
    [toggleEnabled]="true"
    (toggle)="sidebar.toggle()"
  >
    <mm-sidebar #sidebar>
      <ng-container *ngTemplateOutlet="sidebar_content"></ng-container>
    </mm-sidebar>
  </schaeffler-header>

  <div *ngIf="embedded" class="h-full w-full fixed">
    <div class="fixed z-10 bg-white">
      <button
        (click)="sidebar.toggle()"
        mat-icon-button
        [attr.aria-label]="t('settings')"
      >
        <mat-icon class="text-icon">menu</mat-icon>
      </button>
    </div>

    <mm-sidebar #sidebar [embedded]="embedded">
      <ng-container *ngTemplateOutlet="sidebar_content"></ng-container>
    </mm-sidebar>
  </div>

  <ng-template #sidebar_content>
    <div
      [ngClass]="embedded ? 'bg-white' : 'bg-background'"
      class="min-h-full flex flex-col"
    >
      <div
        [ngClass]="embedded ? 'mt-5 pt-5 m-0 p-0' : 'md:m-4 px-4 pb-4'"
        class="flex-auto bg-white"
      >
        <router-outlet></router-outlet>
        <div
          class="mx-auto max-w-screen-md w-full"
          [ngClass]="{ hidden: !isCookiePage }"
        >
          <div class="py-3">
            <button id="ot-sdk-btn" class="ot-sdk-show-settings">
              {{ cookieSettings }}
            </button>
          </div>
          <div class="py-3">
            <div id="ot-sdk-cookie-policy"></div>
          </div>
        </div>
      </div>
      <schaeffler-footer
        *ngIf="!embedded"
        class="flex-shrink-0 bg-white md:bg-background"
        [footerLinks]="footerLinks$ | ngrxPush"
      ></schaeffler-footer>
    </div>
  </ng-template>
</ng-container>
