<schaeffler-app-shell
  *ngIf="!embedded"
  [appTitle]="title"
  [appTitleLink]="'/'"
  [hasSidebarLeft]="true"
  [footerLinks]="footerLinks$ | ngrxPush"
>
  <ng-container sidenavBody>
    <mm-settings></mm-settings>
  </ng-container>
  <ng-container mainContent>
    <div class="h-full w-full">
      <ng-container *ngTemplateOutlet="content"></ng-container>
    </div>
  </ng-container>
</schaeffler-app-shell>

<div *ngIf="embedded" class="h-full w-full fixed">
  <div class="z-10 fixed bg-white">
    <button
      (click)="drawer.toggle()"
      mat-icon-button
      attr.aria-label="settings"
    >
      <mat-icon class="text-icon">menu</mat-icon>
    </button>
  </div>
  <mat-drawer-container class="h-full">
    <mat-drawer #drawer class="example-sidenav" mode="over">
      <mm-settings #sidebar [embedded]="embedded"></mm-settings>
    </mat-drawer>
    <ng-container *ngTemplateOutlet="content"></ng-container>
  </mat-drawer-container>
</div>

<ng-template #content>
  <div
    [ngClass]="embedded ? 'bg-white' : 'bg-background'"
    class="min-h-full flex flex-col"
  >
    <div
      [ngClass]="embedded ? 'mt-5 pt-5 m-0 p-0' : 'md:m-4 px-4 pb-4'"
      class="flex-auto bg-white flex"
    >
      <div class="flex-1">
        <router-outlet></router-outlet>
      </div>
      <div
        class="mx-auto max-w-screen-md w-full"
        [ngClass]="{ hidden: !isCookiePage }"
      >
        <div class="py-3">
          <button id="ot-sdk-btn" class="ot-sdk-show-settings">
            {{ cookieSettings }}
          </button>
        </div>
        <div class="py-3">
          <div id="ot-sdk-cookie-policy"></div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
