<div
  class="flex h-full flex-col"
  *transloco="let t; read: 'shared.uploadDialog'"
>
  <gq-dialog-header
    [title]="t('title')"
    (closeDialog)="closeDialog()"
  ></gq-dialog-header>
  <div class="flex-grow mt-4">
    <div
      class="border-2 h-24 border-dashed border-border rounded-lg w-full flex justify-center items-center font-bold cursor-pointer"
      id="dragSquare"
    >
      <div class="flex flex-col items-center">
        <div class="flex flex-row items-center">
          <div
            class="flex flex-row items-center group hover:border-b hover:border-primary"
          >
            <input
              type="file"
              (change)="handleFileInput($event)"
              multiple
              id="fileInput"
              class="hidden"
            />
            <label for="fileInput" class="flex items-center">
              <mat-icon color="primary" class="mr-2">add</mat-icon>
              <p class="text-link font-medium mr-1 flex-grow">
                {{ t('uploadButton') }}
              </p>
            </label>
          </div>
          <p class="text-medium-emphasis font-medium">
            {{ t('dialogOptionInfo') }}
          </p>
        </div>
        <p class="text-low-emphasis text-[12px] mt-3">
          {{ t('dialogInfo') }}
        </p>
      </div>
    </div>
  </div>

  <div class="mt-4">
    <div class="mb-3" *ngFor="let file of selectedFilesList">
      <div class="flex flex-row items-center">
        <!-- Loading Indicator (Spinning Progress Spinner) -->
        <div
          class="flex items-center"
          *ngIf="loading[file]; else approvedCheckmark"
        >
          <mat-progress-spinner
            *ngIf="!fileUploaded[file]"
            mode="indeterminate"
            diameter="25"
            color="primary"
            class="mr-2"
          ></mat-progress-spinner>
        </div>
        <ng-template #approvedCheckmark>
          <mat-icon class="text-approval-status-green mr-2 w-8 h-8">
            check_circle_outline
          </mat-icon>
        </ng-template>
        <div class="flex flex-col">
          <span class="text-high-emphasis text-body-2">{{ file }}</span>
          <span class="text-medium-emphasis text-[12px]">{{
            date
              | translocoDate
                : {
                    year: '2-digit',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit'
                  }
          }}</span>
        </div>
        <div class="ml-auto text-approval-status-grey">
          <div class="group inline-block">
            <mat-icon
              class="w-3 h-3 hover:text-approval-status-green relative text-approval-status-grey"
            >
              <span class="group-hover:opacity-0"> delete </span>
              <mat-icon
                class="absolute inset-0 flex items-center justify-center font-bold opacity-0 group-hover:opacity-100 text-[8px]"
              >
                delete_forever
              </mat-icon>
            </mat-icon>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-11 flex flex-row">
    <button
      color="primary"
      class="!mr-6 text-button font-medium"
      mat-raised-button
      (click)="uploadToOther()"
    >
      {{ t('uploadButton') }}
    </button>
    <button
      color="primary"
      class="text-button font-medium"
      mat-stroked-button
      (click)="closeDialog()"
    >
      {{ t('cancelButton') }}
    </button>
  </div>
</div>
