<div>
  <div
    class="flex items-center justify-between px-3 py-2"
    *transloco="let t; read: 'searchBar'"
  >
    <mat-icon matSuffix class="pr-4 text-medium-emphasis"> search </mat-icon>
    <input
      matInput
      color="primary"
      class="!mx-2 w-full leading-7 !outline-none"
      type="text"
      [placeholder]="t('searchHint')"
      [formControl]="searchFormControl"
      cdkFocusInitial
    />
    <div class="px-2">
      <mat-spinner
        *ngIf="autocomplete.materialNumberOrDescAutocompleteLoading$ | ngrxPush"
        matSuffix
        [diameter]="18"
      ></mat-spinner>
    </div>

    <div class="flex items-center">
      <span
        class="cursor-pointer text-caption text-medium-emphasis"
        (click)="clearInputField()"
      >
        {{ t('clear') }}
      </span>
      <span class="px-2 text-medium-emphasis"> | </span>
      <mat-icon
        class="float-right h-5 w-5 cursor-pointer text-medium-emphasis"
        (click)="closeDialog()"
      >
        close
      </mat-icon>
    </div>
  </div>
  <ng-container
    *ngIf="
      !(autocomplete.materialNumberOrDescAutocompleteLoading$ | ngrxPush) &&
      searchVal !== '' &&
      searchVal.length >= MIN_INPUT_STRING_LENGTH_FOR_AUTOCOMPLETE
    "
  >
    <gq-global-search-results-preview-list
      [idValues]="
        (autocomplete.materialNumberOrDescForGlobalSearch$ | ngrxPush).options
      "
      [searchVal]="searchVal"
      (itemSelected)="onItemSelected($event)"
    ></gq-global-search-results-preview-list>
  </ng-container>
</div>
