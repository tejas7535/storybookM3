<div *ngrxLet="sectorGpsds$ | ngrxPush as sectorGpsds">
  <mat-form-field
    class="w-full"
    [appearance]="appearance()"
    *transloco="let t; read: 'sectorGpsd'"
  >
    <mat-label>{{ t('label') }}</mat-label>
    <mat-select
      panelWidth="450px"
      [formControl]="sectorGpsdControl"
      (selectionChange)="selectionChange($event)"
      [compareWith]="compareFn"
      [attr.data-cy]="'sector-gpsd-select'"
    >
      @for (type of sectorGpsds; track type.id) {
        <mat-option [value]="type">
          <div class="flex flex-row items-center">
            <!-- if partner role is not in the DB we show the ID as a name (GQUOTE-4711) -->
            <span class="whitespace-nowrap w-80 text-title-medium">{{
              type.id === 'NOT_AVAILABLE'
                ? t('notAvailable')
                : (type.name ?? type.id)
            }}</span>
            @if (type.id && type.id !== 'NOT_AVAILABLE') {
              <span
                class="whitespace-nowrap text-body-small text-on-surface-variant"
              >
                - {{ type.id }}</span
              >
            }
          </div>
        </mat-option>
      }
    </mat-select>
    @if (sectorGpsdLoading$ | ngrxPush) {
      <mat-spinner matSuffix [diameter]="18"></mat-spinner>
    }
  </mat-form-field>
</div>
