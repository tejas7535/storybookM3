<div
  [class]="classes"
  *transloco="let t; read: 'shared.customStatusBar.buttons'"
>
  <!-- Create template depending on input parameter-->
  @if (buttonType === buttonDisplayType.matFab) {
    @if (isOnlyVisibleOnSelection ? selections.length > 0 : true) {
      <button
        [disabled]="selections.length === 0"
        mat-fab
        [color]="buttonColor"
        (click)="updateStatus()"
      >
        <ng-container *ngTemplateOutlet="matIconAndPanel"></ng-container>
      </button>
    }
  } @else {
    @if (isOnlyVisibleOnSelection ? selections.length > 0 : true) {
      <button
        [disabled]="selections.length === 0"
        mat-stroked-button
        [color]="buttonColor"
        (click)="updateStatus()"
      >
        <ng-container *ngTemplateOutlet="matIconAndPanel"></ng-container>
      </button>
    }
  }

  <ng-template #matIconAndPanel>
    <div class="flex flex-row items-center">
      @if (panelIcon) {
        <mat-icon class="mdc-fab__icon">{{ panelIcon }}</mat-icon>
      }
      @if (hasPanelCaption) {
        <span>{{ panelCaption }}</span>
      }
    </div>
  </ng-template>
</div>
