@if (quotationMetadataLoading$ | ngrxPush) {
  <schaeffler-loading-spinner></schaeffler-loading-spinner>
} @else {
  <div
    class="flex h-full flex-col"
    *transloco="let t; read: 'processCaseView.header.noteModal'"
  >
    <gq-dialog-header
      [title]="
        t('title', {
          gqId: gqId$ | ngrxPush | gqQuotation,
          quotationActive: modalData.isQuotationStatusActive,
        })
      "
      (closeDialog)="closeDialog()"
    >
    </gq-dialog-header>
    <div>
      <mat-form-field
        class="py-4 w-full"
        appearance="outline"
        data-cy="note-form-field"
      >
        <mat-label> {{ t('inputLabel') }} </mat-label>
        <textarea
          class="!h-24"
          [formControl]="quotationNoteForm"
          type="text"
          matInput
          [maxlength]="QUOTATION_NOTE_MAX_LENGTH"
        ></textarea>
        <mat-hint align="end"
          >{{
            quotationNoteForm.value?.length.toString() +
              ' / ' +
              QUOTATION_NOTE_MAX_LENGTH
          }}
        </mat-hint>
      </mat-form-field>
    </div>
  </div>
  <!-- Mat buttons for confirm and cancel -->
  <div
    *transloco="let t; read: 'processCaseView.header.noteModal.buttons'"
    class="flex justify-end gap-4"
  >
    <button mat-button data-cy="cancel-button" (click)="onCancel()">
      {{ t('cancel') }}
    </button>
    <button
      mat-flat-button
      [disabled]="quotationNoteForm.invalid || !quotationNoteForm.dirty"
      (click)="onConfirm()"
      data-cy="confirm-button"
    >
      {{ t('confirm') }}
    </button>
  </div>
}
