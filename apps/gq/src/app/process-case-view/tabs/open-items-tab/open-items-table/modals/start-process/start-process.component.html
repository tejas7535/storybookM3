<div
  *transloco="let t; read: 'shared.openItemsTable.approvalProcesses.start'"
  class="flex w-full h-full flex-col gap-4"
>
  @if (recalculateSqvLoading$ | ngrxPush) {
    <schaeffler-loading-spinner
      class="h-full"
      backgroundColor="rgba(255,255,255, 0.1)"
      [relative]="true"
    ></schaeffler-loading-spinner>
  } @else {
    <div class="flex flex-col">
      <span class="text-low-emphasis text-subtitle-2 mb-4">
        {{ t('forwardedToLabel') }}
      </span>
      <div class="flex flex-row w-full">
        <span class="w-1/3 text-body-1"
          >{{ modalData().quotationDetail?.productionPlant?.plantNumber }} |
          {{ modalData().quotationDetail?.productionPlant?.city }}</span
        >
        <span class="w-2/3 text-body-1">
          {{ modalData().quotationDetail.material?.productLineId }}</span
        >
      </div>
      <div class="flex flex-row w-full">
        <span class="w-1/3 text-caption font-normal text-low-emphasis">{{
          t('productionPlantLabel')
        }}</span>
        <span class="w-2/3 text-caption font-normal text-low-emphasis">{{
          t('productLineLabel')
        }}</span>
      </div>
    </div>
    <mat-form-field appearance="outline" class="pt-4">
      <mat-label>{{ t('messageLabel') }}</mat-label>
      <textarea
        type="text"
        appearance="fill"
        cdkTextareaAutosize
        #autosize="cdkTextareaAutosize"
        [formControl]="messageControl"
        cdkAutosizeMinRows="1"
        cdkAutosizeMaxRows="4"
        matInput
        data-cy="rfq4-approval-start-process_message-input"
        [maxlength]="MESSAGE_MAX_LENGTH"
      ></textarea>
      <mat-hint align="start">{{ t('messageHint') }}</mat-hint>
      <mat-hint align="end">{{
        (messageControl.value?.length.toString() || '0') +
          ' / ' +
          MESSAGE_MAX_LENGTH.toString()
      }}</mat-hint>
    </mat-form-field>
    <div class="footer pt-4">
      <button
        class="!pl-4 !pr-4"
        mat-raised-button
        (click)="sendRequest()"
        color="primary"
      >
        <span class="font-medium">
          {{ t('sendRequestButton') }}
        </span>
      </button>
      <button
        color="primary"
        class="!ml-4 text-button font-medium"
        mat-stroked-button
        (click)="closeDialog()"
      >
        {{ t('cancelButton') | uppercase }}
      </button>
    </div>
  }
</div>
