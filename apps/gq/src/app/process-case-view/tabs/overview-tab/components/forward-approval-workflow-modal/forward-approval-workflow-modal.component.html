<div
  class="flex h-full flex-col"
  *transloco="
    let t;
    read: 'processCaseView.tabs.overview.approvalCockpit.forwardApprovalWorkflowModal'
  "
>
  <gq-dialog-header
    [title]="t('title')"
    (closeDialog)="closeDialog()"
  ></gq-dialog-header>

  @if (
    (approvalFacade.updateApprovalWorkflowInProgress$ | ngrxPush) === false
  ) {
    <p class="text-subtitle-2 mt-6">{{ t('summary') }}</p>
    <div class="flex items-center mt-3">
      <p class="text-body-2 text-medium-emphasis">{{ t('approvalLevel') }}:</p>
      <span class="text-body-2 text-high-emphasis ml-2">{{
        approvalFacade.requiredApprovalLevelsForQuotation$ | ngrxPush
      }}</span>
    </div>
    <gq-user-select
      tabindex="0"
      class="mt-3"
      [title]="t('forwardTo')"
      [enableFiltering]="true"
      [userSelectFormControl]="approverFormControl"
      [users$]="approvalFacade.approversOnUserApprovalStep$"
      [errorMessage]="errorMessage"
    ></gq-user-select>
    <p class="text-body-1">{{ t('hint') }}</p>
    <div class="flex w-full gap-4 mt-7">
      <button
        mat-raised-button
        color="primary"
        [disabled]="approverFormControl.invalid || approverFormControl.pristine"
        (click)="forwardApprovalWorkflow()"
      >
        {{ t('forwardWorkflow') }}
      </button>
      <button mat-stroked-button (click)="closeDialog()" color="primary">
        {{ t('backToOverview') }}
      </button>
    </div>
  } @else {
    <div class="py-24">
      <schaeffler-loading-spinner
        class="h-full"
        backgroundColor="rgba(255,255,255, 0.1)"
        [relative]="true"
      ></schaeffler-loading-spinner>
    </div>
  }
</div>
