<div
  class="flex h-full flex-col bg-secondary"
  *ngIf="
    !(customerLoading$ | ngrxPush) && !(quotationLoading$ | ngrxPush);
    else loading
  "
>
  <schaeffler-subheader
    *ngIf="quotation$ | ngrxPush as quotation"
    [subheaderTitle]="
      quotation.caseName ? quotation.caseName : (quotation.gqId | gqQuotation)
    "
    [breadcrumbs]="breadcrumbs$ | ngrxPush"
  >
    <ng-container subheaderTitleContent>
      <div class="flex flex-row">
        <span *ngIf="quotation.sapId" class="ml-4 text-low-emphasis">{{
          quotation.sapId | sapQuotation
        }}</span>
        <gq-header-content
          [quotation]="quotation"
          (updateQuotation)="updateQuotation($event)"
        ></gq-header-content>
      </div>
    </ng-container>
    <ng-container subheaderInlineContent>
      <schaeffler-share-button></schaeffler-share-button>
    </ng-container>
    <ng-container subheaderBlockContent>
      <gq-customer-header
        [customer]="quotation.customer"
        [showDetailsButton]="false"
      >
      </gq-customer-header>
    </ng-container>
  </schaeffler-subheader>

  <gq-tabs-header class="grow" [tabs]="tabs"></gq-tabs-header>
</div>

<ng-template #loading>
  <schaeffler-loading-spinner></schaeffler-loading-spinner>
</ng-template>
