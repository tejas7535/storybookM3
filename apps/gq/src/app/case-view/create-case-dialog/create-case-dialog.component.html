<div *transloco="let t; read: 'caseView.createCaseDialog'">
  <h2 mat-dialog-title class="title">
    {{ t('title') }}
    <mat-icon class="close-dialog" (click)="closeDialog()"> close </mat-icon>
  </h2>
  <mat-card>
    <mat-card-title>
      {{ t('quotation.title') }}
    </mat-card-title>
    <mat-card-content>
      <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxFlexFill>
        <div
          fxFlex="100%"
          fxLayoutAlign="start start"
          *ngIf="quotation$ | async as quotation"
        >
          <gq-autocomplete-input
            fxFill
            [filterName]="quotation.filter"
            [options]="quotation.options"
            [isDisabled]="quotationDisabled"
            (inputContent)="quotationHasInput($event)"
            (unselected)="unselectOptions(quotation.filter)"
            (added)="selectOption($event, quotation.filter)"
            (isValid)="quotationValid($event)"
            [autocompleteLoading]="quotationAutocompleteLoading$ | async"
            (autocomplete)="autocomplete($event)"
          ></gq-autocomplete-input>
        </div>
        <div fxFlex fxLayoutAlign="start start">
          <button
            mat-stroked-button
            [disabled]="!quotationIsValid"
            (click)="openQuotation()"
          >
            {{ t('quotation.button') | uppercase }}
          </button>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
  <mat-card>
    <mat-card-title>{{ t('customer.title') }}</mat-card-title>
    <mat-card-content>
      <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxFlexFill>
        <div
          fxFlex="100%"
          fxLayoutAlign="start start"
          *ngIf="customer$ | async as customer"
        >
          <gq-autocomplete-input
            fxFill
            [filterName]="customer.filter"
            [options]="customer.options"
            [isDisabled]="customerDisabled"
            (inputContent)="customerHasInput($event)"
            (unselected)="unselectOptions(customer.filter)"
            (added)="selectOption($event, customer.filter)"
            [autocompleteLoading]="customerAutocompleteLoading$ | async"
            (autocomplete)="autocomplete($event)"
          ></gq-autocomplete-input>
        </div>
      </div>
      <gq-add-entry
        [isDisabled]="customerDisabled"
        (inputContent)="customerHasInput($event)"
      >
      </gq-add-entry>
      <div *ngIf="rowData$ | async as rowData">
        <gq-input-table [rowData]="rowData"></gq-input-table>
      </div>
    </mat-card-content>
  </mat-card>
</div>
