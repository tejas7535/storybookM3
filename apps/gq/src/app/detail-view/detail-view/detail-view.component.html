<mat-drawer-container
  class="h-full"
  *ngIf="!(quotationLoading$ | ngrxPush); else loading"
>
  <mat-drawer-content
    *ngIf="quotation$ | ngrxPush as quotation"
    class="!flex flex-col"
  >
    <mat-card class="w-full !pt-0">
      <gq-case-header
        showCustomerHeader="true"
        (toggleOfferDrawer)="drawer.toggle()"
      >
        <span>{{ quotation.gqId | gqQuotation }} </span>
        <span *ngIf="(quotationDetail$ | ngrxPush)?.material as material"
          >{{ material | materialInfo }}
        </span>
      </gq-case-header>
    </mat-card>

    <div class="flex flex-row">
      <div class="w-1/2">
        <gq-filter-pricing [quotationDetail]="quotationDetail$ | ngrxPush">
        </gq-filter-pricing>
      </div>
      <div class="w-1/2">
        <gq-pricing-details [quotationDetail]="quotationDetail$ | ngrxPush">
        </gq-pricing-details>
      </div>
    </div>
  </mat-drawer-content>
  <mat-drawer class="w-1/2" #drawer position="end" (opened)="getOffer()">
    <gq-offer-drawer
      class="flex flex-col"
      *ngIf="offer$ | ngrxPush"
      [quotation]="offer$ | ngrxPush"
      (toggleOfferDrawer)="drawer.toggle()"
    ></gq-offer-drawer>
  </mat-drawer>
</mat-drawer-container>

<ng-template #loading>
  <gq-loading-spinner [show]="true"></gq-loading-spinner>
</ng-template>
