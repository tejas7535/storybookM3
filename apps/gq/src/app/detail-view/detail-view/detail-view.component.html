<div *ngIf="!(quotationLoading$ | ngrxPush); else loading">
  <div *ngIf="quotation$ | ngrxPush as quotation">
    <schaeffler-subheader
      *ngIf="(quotationDetail$ | ngrxPush)?.material as material"
      [subheaderTitle]="material | materialInfo"
      [breadcrumbs]="breadcrumbs$ | ngrxPush"
    >
      <ng-container subheaderTitleContent>
        <gq-detail-view-header-content
          [materialStock]="materialStock$ | ngrxPush"
          [materialStockLoading]="materialStockLoading$ | ngrxPush"
        ></gq-detail-view-header-content>
      </ng-container>
      <ng-container subheaderInlineContent>
        <schaeffler-share-button></schaeffler-share-button>
      </ng-container>
      <ng-container subheaderBlockContent>
        <gq-customer-header [customer]="quotation.customer">
        </gq-customer-header>
      </ng-container>
    </schaeffler-subheader>
  </div>
  <div class="mx-4 mt-4 flex flex-col md:flex-row">
    <div class="w-full md:w-3/5">
      <gq-filter-pricing [quotationDetail]="quotationDetail$ | ngrxPush">
      </gq-filter-pricing>
    </div>
    <div class="mt-4 w-full md:mt-0 md:w-2/5">
      <gq-pricing-details
        [quotationDetail]="quotationDetail$ | ngrxPush"
        [plantMaterialDetails]="plantMaterialDetails$ | ngrxPush"
      >
      </gq-pricing-details>
    </div>
  </div>
</div>

<ng-container *ngrxLet="quotationDetail$ as quotationDetail">
  <gq-detail-view-navigation-bar
    *ngIf="quotationDetail && quotations && quotations.length >= 2"
    [numberOfCases]="quotations.length"
    [selectedCaseIndex]="
      getSelectedQuotationIndex(quotationDetail.gqPositionId)
    "
    (navigateToCase)="onNavigateToQuotationByIndex($event)"
  ></gq-detail-view-navigation-bar>
</ng-container>

<ng-template #loading>
  <schaeffler-loading-spinner></schaeffler-loading-spinner>
</ng-template>
