<mat-card class="mt-4" *ngIf="materialStockByPlant && uom">
  <div
    *transloco="
      let t;
      read: 'detailView.pricingDetails.stockAvailabilityDetails'
    "
  >
    <p class="text-h6 mb-4 text-medium-emphasis">
      {{ t('title') }}
    </p>
    <div>
      <gq-label-text>
        <span label>{{ t('deliveryPlant') }}</span>
        <span text>{{ materialStockByPlant.plant | plantDisplay }}</span>
      </gq-label-text>
      <gq-label-text>
        <span label>{{ t('stock') }}</span>
        <span text
          >{{ materialStockByPlant.stock }}
          {{ uom | uom | nullableString }}
        </span>
      </gq-label-text>
      <gq-label-text>
        <span label>{{ t('freeStock') }}</span>
        <span text>
          <div class="flex flex-row items-center">
            <div
              class="mr-2 h-3 w-3 rounded-full bg-primary"
              [ngClass]="{
                'bg-error': materialStockByPlant.freeStock === 0,
                'bg-sunny-yellow':
                  materialStockByPlant.freeStock <= 10 &&
                  materialStockByPlant.freeStock > 0
              }"
            ></div>
            <span>
              {{ materialStockByPlant.freeStock }}
              {{ uom | uom | nullableString }}
            </span>
          </div>
        </span>
      </gq-label-text>
      <gq-label-text>
        <span label>{{ t('backlog') }}</span>
        <span text
          >{{ materialStockByPlant.backlog }}
          {{ uom | uom | nullableString }}
        </span>
      </gq-label-text>
      <gq-label-text>
        <span label>{{ t('nextFreeAtp') }}</span>
        <span text
          >{{ materialStockByPlant.nextFree }}
          {{ uom | uom | nullableString }}
        </span>
      </gq-label-text>
      <gq-label-text>
        <span label>{{ t('dateNextFreeAtp') }}</span>
        <span text>{{
          materialStockByPlant.dateNextFree | translocoDate
        }}</span>
      </gq-label-text>
      <gq-label-text>
        <span label>{{ t('deliveryDate') }}</span>
        <span text>{{ materialStockByPlant.arrivalDate | translocoDate }}</span>
      </gq-label-text>
    </div>
  </div>
</mat-card>
