<div class="mt-4">
  <gq-filter-pricing-card
    *transloco="let t; read: 'detailView.filterPricing.gqPrice'"
    [title]="t('title')"
    [isSelected]="quotationDetail.priceSource === PriceSource.GQ"
    (selectManualPrice)="selectPrice()"
    [isLoading]="isLoading"
    [isDisabled]="isDisabled"
  >
    <div content>
      <div class="flex w-full flex-col flex-wrap sm:flex-row">
        <div class="min-w-[8rem] max-w-[25%] grow pt-2">
          <div>
            <div
              class="text-body-2 text-medium-emphasis mb-1"
              data-cy="gq-price-label"
            >
              {{ t('priceLabel') }}:
            </div>
            <span class="font-bold" data-cy="gq-price-value">{{
              quotationDetail.recommendedPrice | numberCurrency: currency
            }}</span>
          </div>
        </div>
        @if (userHasGPCRole) {
          <div class="min-w-[8rem] pt-2">
            <div
              class="text-body-2 text-medium-emphasis mb-1"
              data-cy="gpi-label"
            >
              {{ t('gpi') }}:
            </div>
            <div>
              <span class="font-bold" data-cy="gpi-value">{{
                gpi | percentage: false
              }}</span>
            </div>
          </div>
        }
        @if (userHasSQVRole) {
          <div class="min-w-[8rem] pt-2">
            <div
              class="text-body-2 text-medium-emphasis mb-1"
              data-cy="gpm-label"
            >
              {{ t('gpm') }}:
            </div>
            <div>
              <span class="font-bold" data-cy="gpm-value">{{
                gpm | percentage: false
              }}</span>
            </div>
          </div>
        }
        @if (gpmRfq) {
          <div class="min-w-[8rem] pt-2">
            <div
              class="text-body-2 text-medium-emphasis mb-1"
              data-cy="rfq-gpm-label"
            >
              {{ t('gpmRfq') }}:
            </div>
            <div>
              <span class="font-bold" data-cy="rfq-gpm-value">{{
                gpmRfq | percentage: false
              }}</span>
            </div>
          </div>
        }
        <div class="min-w-[8rem] pt-2">
          <div
            class="text-body-2 text-medium-emphasis mb-1"
            data-cy="quantity-label"
          >
            {{ t('quantity') }}:
          </div>
          <gq-quantity-display
            [quotationDetail]="quotationDetail"
          ></gq-quantity-display>
        </div>
        @if (quotationDetail.gqRating) {
          <div class="min-w-[8rem] pt-2">
            <div
              class="text-body-2 text-medium-emphasis mb-1"
              data-cy="gq-rating-label"
            >
              {{ t('rating') }}:
            </div>
            <div data-cy="gq-rating-value">
              @for (
                i of [].constructor(quotationDetail.gqRating);
                track $index
              ) {
                <mat-icon class="text-link mr-1">star</mat-icon>
              }
              @for (
                i of [].constructor(3 - quotationDetail.gqRating);
                track $index
              ) {
                <mat-icon class="text-link mr-1">star_border</mat-icon>
              }
            </div>
          </div>
        } @else {
          <div class="min-w-[8rem] pt-2">
            <div
              class="text-body-2 text-medium-emphasis mb-1"
              data-cy="gq-price-source-label"
            >
              {{ t('source') }}:
            </div>
            <div>
              <span class="font-bold" data-cy="gq-price-source-value">
                {{ t('strategic') }}</span
              >
            </div>
          </div>
        }
        @if (isDetailsButtonVisible) {
          <gq-detail-button
            link
            [text]="t('details')"
            [path]="DetailRoutePath.TransactionsPath"
          ></gq-detail-button>
        }
      </div>
      <!-- Will be added when sqv check result is used for gq price calcultion-->
      <!-- <gq-sqv-cost-reference *featureToggle="'displaySqvChecks'">
      </gq-sqv-cost-reference> -->
    </div>
  </gq-filter-pricing-card>
</div>
