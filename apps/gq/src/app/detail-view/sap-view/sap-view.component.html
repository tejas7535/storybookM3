<div
  class="flex h-full flex-1 flex-col"
  *ngIf="!(quotationLoading$ | ngrxPush); else loading"
>
  <div *transloco="let t; read: 'sapView.header'">
    <schaeffler-subheader
      [subheaderTitle]="t('title')"
      [breadcrumbs]="breadcrumbs$ | ngrxPush"
      *ngIf="quotationDetail$ | ngrxPush"
    >
      <ng-container subheaderTitleContent>
        <gq-material-price-header-content
          [quotationDetail]="quotationDetail$ | ngrxPush"
          [currency]="(customer$ | ngrxPush).currency"
          [price]="(quotationDetail$ | ngrxPush)?.sapPrice"
        >
        </gq-material-price-header-content>
      </ng-container>
      <ng-container subheaderInlineContent>
        <schaeffler-share-button></schaeffler-share-button>
      </ng-container>
      <ng-container subheaderBlockContent>
        <gq-customer-header [customer]="customer$ | ngrxPush">
        </gq-customer-header>
      </ng-container>
    </schaeffler-subheader>
  </div>
  <mat-card class="m-4 h-full">
    <gq-sap-price-details-table
      *ngIf="
        (translationsLoaded$ | ngrxPush) &&
          !(sapPriceDetailsLoading$ | ngrxPush);
        else tableLoading
      "
      [rowData]="rowData$ | ngrxPush"
      [tableContext]="tableContext$ | ngrxPush"
    ></gq-sap-price-details-table>
    <ng-template #tableLoading>
      <schaeffler-loading-spinner></schaeffler-loading-spinner>
    </ng-template>
  </mat-card>
</div>
<ng-template #loading>
  <schaeffler-loading-spinner></schaeffler-loading-spinner>
</ng-template>
