<ng-container *transloco="let t; read: 'calculationResult'">
  @if (affectedHeaders().length > 0) {
    <div
      class="flex flex-col w-[60vw] sm:w-[50vw] md:w-[45vw] lg:w-[40vw] xl:w-auto pt-1 sm:pt-2 flex-shrink-0 items-center justify-between md:justify-center md:h-auto h-full"
    >
      <div class="flex flex-row flex-wrap gap-1 md:gap-4 justify-center mb-1">
        @for (item of affectedHeaders(); track item; let isLast = $last) {
          <div class="flex gap-1 md:gap-3 text-medium-emphasis text-body-small">
            <span>
              {{ t(item.title) }}
            </span>
            <mat-divider
              class="md:block"
              [class.!hidden]="isLast"
              [vertical]="true"
            ></mat-divider>
          </div>
        }
      </div>
      <div class="flex items-center max-w-[95vw] sm:max-w-[vw]">
        <div class="flex flex-shrink-0 mr-1 sm:mr-3">
          <mat-icon class="text-error">warning</mat-icon>
        </div>

        <div
          #errorContainer
          class="text-body-medium text-high-emphasis overflow-hidden md:max-w-md hidden max-h-16 sm:line-clamp-3"
        >
          {{ combinedErrors() }}
        </div>

        <button
          class="sm:hidden whitespace-nowrap ml-1 min-w-[auto] self-baseline sm:mt-1"
          [ngClass]="{ 'sm:!flex': isOverflowing }"
          mat-stroked-button
          (click)="showErrorsDialog()"
        >
          {{ t('showErrors') }}
        </button>
      </div>
    </div>
  }
</ng-container>
