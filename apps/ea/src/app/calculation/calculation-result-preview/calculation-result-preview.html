<ng-container *transloco="let t; read: 'calculation'">
  <div
    class="left-0 flex w-full items-center justify-center overflow-hidden"
    [ngClass]="{'fixed bottom-0': sticky}"
  >
    <div
      class="bg-background-dark flex flex-row items-center justify-center gap-8 rounded-t pt-6 pb-6 pl-8 pr-8"
    >
      <div class="flex flex-grow flex-row gap-8">
        <ng-container *ngIf="isCalculationMissingInput$ | ngrxPush">
          <div class="flex flex-shrink-0 flex-row items-center justify-center">
            <div class="flex flex-shrink-0">
              <mat-icon color="primary">info</mat-icon>
            </div>
            <div class="text-caption ml-2 flex-shrink-0">
              {{ t('calculationMissingInput') }}
            </div>
          </div>
          <mat-divider [vertical]="true"></mat-divider>
        </ng-container>

        <ng-container *ngIf="isCalculationImpossible$ | ngrxPush">
          <div class="flex flex-shrink-0 flex-row items-center">
            <div class="flex flex-shrink-0">
              <mat-icon color="error">warning</mat-icon>
            </div>
            <div
              class="text-caption ml-2 flex-shrink-0"
              [style]="{'max-width': '220px'}"
            >
              {{ t('calculationImpossible') }}
            </div>
          </div>
          <mat-divider [vertical]="true"></mat-divider>
        </ng-container>

        <ng-container *ngIf="overlayData$ | ngrxPush as overlayData">
          <ng-container *ngFor="let item of overlayData">
            <ea-calculation-result-preview-item
              [item]="item"
            ></ea-calculation-result-preview-item>
            <mat-divider [vertical]="true"></mat-divider>
          </ng-container>
        </ng-container>
      </div>

      <div class="flex-shrink-0 flex-grow">
        <button
          mat-raised-button
          color="primary"
          [disabled]="(isResultAvailable$ | ngrxPush) === false"
          (click)="showReport()"
        >
          <div class="flex items-center justify-center">
            {{ t('showReport') }}
          </div>
        </button>
      </div>
    </div>
  </div>
</ng-container>
