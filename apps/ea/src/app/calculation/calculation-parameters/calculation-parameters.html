<ng-container *transloco="let t; read: 'operationConditions'">
  <div class="ea-flex ea-w-full ea-flex-col ea-max-w-[850px]">
    <div class="ea-flex ea-flex-1 ea-flex-col ea-items-center ea-gap-10">
      <div class="ea-flex ea-flex-col ea-gap-0 sm:ea-gap-6 lg:ea-grid">
        <h6 class="ea-text-medium-emphasis ea-mx-2">
          {{t('title', {bearingDesignation: bearingDesignation$ | ngrxPush } )}}
        </h6>
        <div
          class="ea-flex-row ea-items-end ea-w-full ea-mb-4 ea-flex md:ea-hidden"
        >
          <button
            (click)="onShowBasicFrequenciesDialogClick()"
            mat-button
            class="ea-ml-auto"
            color="primary"
          >
            {{ 'basicFrequencies.showBasicFrequencies' | transloco }}
          </button>
        </div>

        <div
          class="ea-flex ea-flex-row ea-items-center ea-justify-between ea-mb-4"
        >
          <button
            mat-button
            color="primary"
            (click)="onResetButtonClick()"
            class="md:ea-ml-auto"
          >
            {{ t('resetInputs') }}
          </button>

          <button
            mat-raised-button
            mat-icon-button
            color="primary"
            (click)="onShowCalculationTypesClick()"
            class="md:ea-hidden ea-inline-block mx-2"
          >
            <mat-icon>tune</mat-icon>
          </button>
        </div>

        <ng-container
          *ngTemplateOutlet="inputLoad; context: { t }"
        ></ng-container>

        <ng-container
          *ngTemplateOutlet="inputMotion; context: { t }"
        ></ng-container>

        <ng-container
          *ngTemplateOutlet="inputLubrication; context: { t }"
        ></ng-container>
      </div>
    </div>
  </div>
</ng-container>

<!-- LOAD -->
<ng-template #inputLoad let-t="t">
  <ea-input-group [title]="t('loads')" icon="compress" [isMandatory]="true">
    <div class="ea-grid ea-grid-cols-1 ea-gap-0 md:ea-grid-cols-2 md:ea-gap-4">
      <ea-input-number
        [formControl]="operationConditionsForm.controls.load.controls.radialLoad"
        [label]="t('radialLoad')"
        [unit]="'N'"
        [tooltip]="t('tooltip.radialLoad')"
        [placeholder]="t('pleaseEnter', { label: t('radialLoad') })"
        [onlyPositive]="true"
      ></ea-input-number>
      <ea-input-number
        [formControl]="operationConditionsForm.controls.load.controls.axialLoad"
        [label]="t('axialLoad')"
        [unit]="'N'"
        [tooltip]="t('tooltip.axialLoad')"
        [placeholder]="t('pleaseEnter', { label: t('axialLoad') })"
        [onlyPositive]="true"
      ></ea-input-number>
    </div>
  </ea-input-group>
</ng-template>

<!-- MOTION -->
<ng-template #inputMotion let-t="t">
  <ea-input-group
    [title]="t('relativeRotationalSpeed')"
    icon="animation"
    [isMandatory]="true"
  >
    <div class="ea-grid ea-grid-cols-1 ea-gap-0 md:ea-grid-cols-2 md:ea-gap-4">
      <ea-input-number
        [formControl]="operationConditionsForm.controls.rotation.controls.rotationalSpeed"
        [label]="t('relativeRotationalSpeed')"
        [unit]="t('onePerMinute')"
        [tooltip]="t('tooltip.rotationSpeed')"
        [placeholder]="t('pleaseEnter', { label: t('relativeRotationalSpeed') })"
        [onlyPositive]="true"
      ></ea-input-number>
    </div>
  </ea-input-group>
</ng-template>

<!-- LUBRICATION -->
<ng-template #inputLubrication let-t="t">
  <ea-input-group
    [title]="t('title')"
    svgIcon="water_drop"
    [isMandatory]="true"
    [formGroup]="operationConditionsForm.controls.lubrication"
    *transloco="let t; read: 'operationConditions.lubrication'"
  >
    <ea-tabbed-options formControlName="lubricationSelection">
      <ng-template
        optionTemplate="grease"
        [label]="t('options.grease')"
        formGroupName="grease"
      >
        <!-- TYPE OF GREASE -->
        <ea-tabbed-suboption
          formControlName="greaseSelection"
          [label]="t('grease.typeOfGrease.label')"
          name="typeOfGrease"
          [description]="t('grease.typeOfGrease.description')"
        >
          <ng-container formGroupName="typeOfGrease">
            <ea-input-select
              formControlName="typeOfGrease"
              [label]="t('grease.typeOfGrease.label')"
              [options]="greases"
              [tooltip]="t('grease.typeOfGrease.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- ISO VG CLASS -->
        <ea-tabbed-suboption
          formControlName="greaseSelection"
          [label]="t('grease.isoVgClass.label')"
          name="isoVgClass"
          [description]="t('grease.isoVgClass.description')"
        >
          <ng-container formGroupName="isoVgClass">
            <ea-input-select
              formControlName="isoVgClass"
              [label]="t('grease.isoVgClass.label')"
              [options]="isoVgClasses"
              [tooltip]="t('grease.isoVgClass.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- VISCOSITY -->
        <ea-tabbed-suboption
          formControlName="greaseSelection"
          [label]="t('grease.viscosity.label')"
          name="viscosity"
          [description]="t('grease.viscosity.description')"
        >
          <ng-container formGroupName="viscosity">
            <ea-input-number
              formControlName="ny40"
              [label]="t('grease.viscosity.ny40')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>

            <ea-input-number
              formControlName="ny100"
              [label]="t('grease.viscosity.ny100')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>
          </ng-container>
        </ea-tabbed-suboption>
      </ng-template>

      <ng-template
        optionTemplate="oilBath"
        [label]="t('options.oilBath')"
        formGroupName="oilBath"
      >
        <!-- ISO VG CLASS -->
        <ea-tabbed-suboption
          formControlName="oilBathSelection"
          [label]="t('grease.isoVgClass.label')"
          name="isoVgClass"
          [description]="t('grease.isoVgClass.description')"
        >
          <ng-container formGroupName="isoVgClass">
            <ea-input-select
              formControlName="isoVgClass"
              [label]="t('grease.isoVgClass.label')"
              [options]="isoVgClasses"
              [tooltip]="t('grease.isoVgClass.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- VISCOSITY -->
        <ea-tabbed-suboption
          formControlName="oilBathSelection"
          [label]="t('grease.viscosity.label')"
          name="viscosity"
          [description]="t('grease.viscosity.description')"
        >
          <ng-container formGroupName="viscosity">
            <ea-input-number
              formControlName="ny40"
              [label]="t('grease.viscosity.ny40')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>

            <ea-input-number
              formControlName="ny100"
              [label]="t('grease.viscosity.ny100')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>
          </ng-container>
        </ea-tabbed-suboption>
      </ng-template>

      <ng-template
        optionTemplate="oilMist"
        [label]="t('options.oilMist')"
        formGroupName="oilMist"
      >
        <!-- ISO VG CLASS -->
        <ea-tabbed-suboption
          formControlName="oilMistSelection"
          [label]="t('grease.isoVgClass.label')"
          name="isoVgClass"
          [description]="t('grease.isoVgClass.description')"
        >
          <ng-container formGroupName="isoVgClass">
            <ea-input-select
              formControlName="isoVgClass"
              [label]="t('grease.isoVgClass.label')"
              [options]="isoVgClasses"
              [tooltip]="t('grease.isoVgClass.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- VISCOSITY -->
        <ea-tabbed-suboption
          formControlName="oilMistSelection"
          [label]="t('grease.viscosity.label')"
          name="viscosity"
          [description]="t('grease.viscosity.description')"
        >
          <ng-container formGroupName="viscosity">
            <ea-input-number
              formControlName="ny40"
              [label]="t('grease.viscosity.ny40')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>

            <ea-input-number
              formControlName="ny100"
              [label]="t('grease.viscosity.ny100')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>
          </ng-container>
        </ea-tabbed-suboption>
      </ng-template>

      <ng-template
        optionTemplate="recirculatingOil"
        [label]="t('options.recirculatingOil')"
        formGroupName="recirculatingOil"
      >
        <!-- ISO VG CLASS -->
        <ea-tabbed-suboption
          formControlName="recirculatingOilSelection"
          [label]="t('grease.isoVgClass.label')"
          name="isoVgClass"
          [description]="t('grease.isoVgClass.description')"
        >
          <ng-container formGroupName="isoVgClass">
            <ea-input-select
              formControlName="isoVgClass"
              [label]="t('grease.isoVgClass.label')"
              [options]="isoVgClasses"
              [tooltip]="t('grease.isoVgClass.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- VISCOSITY -->
        <ea-tabbed-suboption
          formControlName="recirculatingOilSelection"
          [label]="t('grease.viscosity.label')"
          name="viscosity"
          [description]="t('grease.viscosity.description')"
        >
          <ng-container formGroupName="viscosity">
            <ea-input-number
              formControlName="ny40"
              [label]="t('grease.viscosity.ny40')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>

            <ea-input-number
              formControlName="ny100"
              [label]="t('grease.viscosity.ny100')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>
          </ng-container>
        </ea-tabbed-suboption>
      </ng-template>
    </ea-tabbed-options>
  </ea-input-group>
</ng-template>
