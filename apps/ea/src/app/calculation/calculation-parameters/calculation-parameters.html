<ng-container *transloco="let t; read: 'operationConditions'">
  <div class="flex w-full flex-col max-w-[850px]">
    <div class="flex flex-1 flex-col items-center gap-10">
      <div class="flex flex-col gap-0 sm:gap-6 lg:grid">
        <div class="text-body-1 text-medium-emphasis px-1 md:py-0 py-2">
          {{ 'appDescription' | transloco }}
        </div>

        <div class="text-medium-emphasis px-1 text-h6">
          {{t('title', {bearingDesignation: bearingDesignation$ | ngrxPush } )}}
        </div>
        <div class="py-2">
          <ea-info-banner
            [isWarning]="true"
            [infoText]="t('prototypeWarning')"
          ></ea-info-banner>
          <ea-info-banner
            *ngIf="(isDownstreamUnavailable$ | ngrxPush)"
            [infoText]="t('co2DownstreamUnavailableHint')"
          ></ea-info-banner>
        </div>
        <div class="flex-row items-end w-full mb-4 flex md:hidden">
          <button
            (click)="onShowBasicFrequenciesDialogClick()"
            mat-button
            class="ml-auto"
            color="primary"
          >
            {{ 'basicFrequencies.showBasicFrequencies' | transloco }}
          </button>
        </div>

        <div class="flex flex-row items-center md:hidden justify-between mb-4">
          <button
            mat-raised-button
            mat-icon-button
            color="primary"
            (click)="onShowCalculationTypesClick()"
            class="ml-auto mx-2"
          >
            <mat-icon>tune</mat-icon>
          </button>
        </div>

        <ng-container
          *ngTemplateOutlet="inputLoad; context: { t }"
        ></ng-container>

        <ng-container
          *ngTemplateOutlet="inputMotion; context: { t }"
        ></ng-container>

        <ng-container
          *ngTemplateOutlet="inputLubrication; context: { t }"
        ></ng-container>
      </div>
    </div>
  </div>
</ng-container>

<!-- LOAD -->
<ng-template #inputLoad let-t="t">
  <ea-input-group [title]="t('loads')" icon="compress" [isMandatory]="true">
    <div class="grid grid-cols-1 gap-0 md:grid-cols-2 md:gap-4">
      <ea-input-number
        [formControl]="operationConditionsForm.controls.load.controls.radialLoad"
        [label]="t('radialLoad')"
        [unit]="'N'"
        [tooltip]="t('tooltip.radialLoad')"
        [placeholder]="t('pleaseEnter', { label: t('radialLoad') })"
        [onlyPositive]="true"
      ></ea-input-number>
      <ea-input-number
        [formControl]="operationConditionsForm.controls.load.controls.axialLoad"
        [label]="t('axialLoad')"
        [unit]="'N'"
        [tooltip]="t('tooltip.axialLoad')"
        [placeholder]="t('pleaseEnter', { label: t('axialLoad') })"
        [onlyPositive]="true"
      ></ea-input-number>
    </div>
  </ea-input-group>
</ng-template>

<!-- MOTION -->
<ng-template #inputMotion let-t="t">
  <ea-input-group
    [title]="t('motionInfluences')"
    icon="animation"
    [isMandatory]="true"
  >
    <div class="grid grid-cols-1 gap-0 md:grid-cols-2 md:gap-4">
      <ea-input-number
        [formControl]="operationConditionsForm.controls.rotation.controls.rotationalSpeed"
        [label]="t('relativeRotationalSpeed')"
        [unit]="t('onePerMinute')"
        [tooltip]="t('tooltip.rotationSpeed')"
        [placeholder]="t('pleaseEnter', { label: t('relativeRotationalSpeed') })"
        [onlyPositive]="true"
      ></ea-input-number>
    </div>
  </ea-input-group>
</ng-template>

<!-- LUBRICATION -->
<ng-template #inputLubrication let-t="t">
  <ea-input-group
    [title]="t('title')"
    svgIcon="water_drop"
    [isMandatory]="true"
    [formGroup]="operationConditionsForm.controls.lubrication"
    *transloco="let t; read: 'operationConditions.lubrication'"
  >
    <ea-tabbed-options formControlName="lubricationSelection">
      <ng-template
        optionTemplate="grease"
        [label]="t('options.grease')"
        formGroupName="grease"
      >
        <!-- TYPE OF GREASE -->
        <ea-tabbed-suboption
          formControlName="selection"
          [label]="t('grease.typeOfGrease.label')"
          name="typeOfGrease"
          [description]="t('grease.typeOfGrease.description')"
        >
          <ng-container formGroupName="typeOfGrease">
            <ea-input-select
              formControlName="typeOfGrease"
              [label]="t('grease.typeOfGrease.label')"
              [options]="greases"
              [tooltip]="t('grease.typeOfGrease.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- ISO VG CLASS -->
        <ea-tabbed-suboption
          formControlName="selection"
          [label]="t('grease.isoVgClass.label')"
          name="isoVgClass"
          [description]="t('grease.isoVgClass.description')"
        >
          <ng-container formGroupName="isoVgClass">
            <ea-input-select
              formControlName="isoVgClass"
              [label]="t('grease.isoVgClass.label')"
              [options]="isoVgClasses"
              [tooltip]="t('grease.isoVgClass.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- VISCOSITY -->
        <ea-tabbed-suboption
          formControlName="selection"
          [label]="t('grease.viscosity.label')"
          name="viscosity"
          [description]="t('grease.viscosity.description')"
          [isDisabled]="true"
        >
          <ng-container formGroupName="viscosity">
            <ea-input-number
              formControlName="ny40"
              [label]="t('grease.viscosity.ny40')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>

            <ea-input-number
              formControlName="ny100"
              [label]="t('grease.viscosity.ny100')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>
          </ng-container>
        </ea-tabbed-suboption>
      </ng-template>

      <ng-template
        optionTemplate="oilBath"
        [label]="t('options.oilBath')"
        formGroupName="oilBath"
      >
        <!-- ISO VG CLASS -->
        <ea-tabbed-suboption
          formControlName="selection"
          [label]="t('grease.isoVgClass.label')"
          name="isoVgClass"
          [description]="t('grease.isoVgClass.description')"
        >
          <ng-container formGroupName="isoVgClass">
            <ea-input-select
              formControlName="isoVgClass"
              [label]="t('grease.isoVgClass.label')"
              [options]="isoVgClasses"
              [tooltip]="t('grease.isoVgClass.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- VISCOSITY -->
        <ea-tabbed-suboption
          formControlName="selection"
          [label]="t('grease.viscosity.label')"
          name="viscosity"
          [description]="t('grease.viscosity.description')"
          [isDisabled]="true"
        >
          <ng-container formGroupName="viscosity">
            <ea-input-number
              formControlName="ny40"
              [label]="t('grease.viscosity.ny40')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>

            <ea-input-number
              formControlName="ny100"
              [label]="t('grease.viscosity.ny100')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>
          </ng-container>
        </ea-tabbed-suboption>
      </ng-template>

      <ng-template
        optionTemplate="oilMist"
        [label]="t('options.oilMist')"
        formGroupName="oilMist"
      >
        <!-- ISO VG CLASS -->
        <ea-tabbed-suboption
          formControlName="selection"
          [label]="t('grease.isoVgClass.label')"
          name="isoVgClass"
          [description]="t('grease.isoVgClass.description')"
        >
          <ng-container formGroupName="isoVgClass">
            <ea-input-select
              formControlName="isoVgClass"
              [label]="t('grease.isoVgClass.label')"
              [options]="isoVgClasses"
              [tooltip]="t('grease.isoVgClass.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- VISCOSITY -->
        <ea-tabbed-suboption
          formControlName="selection"
          [label]="t('grease.viscosity.label')"
          name="viscosity"
          [description]="t('grease.viscosity.description')"
          [isDisabled]="true"
        >
          <ng-container formGroupName="viscosity">
            <ea-input-number
              formControlName="ny40"
              [label]="t('grease.viscosity.ny40')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>

            <ea-input-number
              formControlName="ny100"
              [label]="t('grease.viscosity.ny100')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>
          </ng-container>
        </ea-tabbed-suboption>
      </ng-template>

      <ng-template
        optionTemplate="recirculatingOil"
        [label]="t('options.recirculatingOil')"
        formGroupName="recirculatingOil"
      >
        <!-- ISO VG CLASS -->
        <ea-tabbed-suboption
          formControlName="selection"
          [label]="t('grease.isoVgClass.label')"
          name="isoVgClass"
          [description]="t('grease.isoVgClass.description')"
        >
          <ng-container formGroupName="isoVgClass">
            <ea-input-select
              formControlName="isoVgClass"
              [label]="t('grease.isoVgClass.label')"
              [options]="isoVgClasses"
              [tooltip]="t('grease.isoVgClass.tooltip')"
            ></ea-input-select>
          </ng-container>
        </ea-tabbed-suboption>

        <!-- VISCOSITY -->
        <ea-tabbed-suboption
          formControlName="selection"
          [label]="t('grease.viscosity.label')"
          name="viscosity"
          [description]="t('grease.viscosity.description')"
        >
          <ng-container formGroupName="viscosity">
            <ea-input-number
              formControlName="ny40"
              [label]="t('grease.viscosity.ny40')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>

            <ea-input-number
              formControlName="ny100"
              [label]="t('grease.viscosity.ny100')"
              [unit]="t('grease.viscosity.unit')"
              [onlyPositive]="true"
            ></ea-input-number>
          </ng-container>
        </ea-tabbed-suboption>
      </ng-template>
    </ea-tabbed-options>
  </ea-input-group>

  <div class="flex">
    <button mat-button color="primary" (click)="onResetButtonClick()" icon>
      <mat-icon>refresh</mat-icon>
      {{ t('resetInputs') }}
    </button>
  </div>
</ng-template>
