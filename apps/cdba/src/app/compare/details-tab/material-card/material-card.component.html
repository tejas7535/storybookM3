<mat-card appearance="outlined" class="h-full w-full p-4">
  <h6 class="mb-4 text-on-surface-variant">
    {{ materialDesignation$ | ngrxPush }}
  </h6>

  @if (!(errorMessage$ | ngrxPush)) {
    <mat-accordion multi *transloco="let t; read: 'compare.details'">
      @if (
        dimensionAndWeightDetails$ | ngrxPush;
        as dimensionAndWeightDetails
      ) {
        <mat-expansion-panel
          [expanded]="(expandedItems$ | ngrxPush).includes(0)"
          (opened)="addExpandedItem(0)"
          (closed)="removeExpandedItem(0)"
        >
          <mat-expansion-panel-header>
            <mat-panel-title class="text-body-large">
              {{ t('dimensions.title') }}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="px-6">
            <cdba-dimensions-widget [data]="dimensionAndWeightDetails">
            </cdba-dimensions-widget>
          </div>
        </mat-expansion-panel>
      }
      @if (additionalInformation$ | ngrxPush; as additionalInformation) {
        <mat-expansion-panel
          [expanded]="(expandedItems$ | ngrxPush).includes(1)"
          (opened)="addExpandedItem(1)"
          (closed)="removeExpandedItem(1)"
        >
          <mat-expansion-panel-header>
            <mat-panel-title class="text-body-large">
              {{ t('additionalInformation.title') }}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="px-6">
            <cdba-additional-information-widget
              [additionalInformation]="additionalInformation"
            ></cdba-additional-information-widget>
          </div>
        </mat-expansion-panel>
      }
    </mat-accordion>
  }
  @if (errorMessage$ | ngrxPush; as errorMessage) {
    <div class="flex justify-center">
      <p class="max-w-full break-words text-error">{{ errorMessage }}</p>
    </div>
  }
</mat-card>
