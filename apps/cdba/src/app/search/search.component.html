<ng-container *ngIf="searchSuccessful$ | ngrxPush; else showStartPage">
  <div
    class="search-container"
    fxLayout="column"
    fxLayoutAlign="start center"
    fxLayoutGap="20px"
  >
    <cdba-filter-panel [resultCount]="resultCount$ | ngrxPush">
      <cdba-reference-types-filters
        *ngIf="!(loading$ | ngrxPush); else blockUi"
      ></cdba-reference-types-filters>
    </cdba-filter-panel>
    <cdba-reference-types-table
      [rowData]="referenceTypesData$ | ngrxPush"
      [selectedNodeIds]="selectedReferenceTypeIds$ | ngrxPush"
      (selectionChange)="selectReferenceTypes($event)"
    ></cdba-reference-types-table>
  </div>
</ng-container>

<ng-template #showStartPage>
  <div
    class="search-container"
    fxLayout="column"
    fxLayoutAlign="center center"
    fxLayoutGap="20px"
  >
    <img src="/assets/images/logo.png" alt="Logo" />
    <ng-container *ngIf="tooManyResults$ | ngrxPush">
      <div class="too-many-results-group">
        <h4 class="too-many-results" *transloco="let t; read: 'search'">
          {{ t('tooManyResults') }}
        </h4>
        <h6 class="we-found-too-many-en" *transloco="let t; read: 'search'">
          {{ t('useFilter') }}
        </h6>
      </div>
    </ng-container>
    <cdba-reference-types-filters
      *ngIf="!(loading$ | ngrxPush); else blockUi"
    ></cdba-reference-types-filters>
  </div>
</ng-template>

<ng-template #blockUi>
  <cdba-block-ui></cdba-block-ui>
</ng-template>
