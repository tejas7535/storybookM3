<div
  fxLayout="column"
  class="mat-elevation-z12 additional-information-container"
  *transloco="let t; read: 'detail.bom.additionalInformation'"
>
  <div
    class="additional-information-title"
    fxLayout="row"
    fxLayoutAlign="start center"
    matRipple
    matRippleColor="primary"
    (click)="onClose()"
  >
    <mat-icon>close</mat-icon>
    <p>{{ t('title') }}</p>
  </div>
  <mat-tab-group mat-stretch-tabs>
    <mat-tab label="{{ t('calculations') }}">
      <div class="table-container">
        <cdba-calculations-table
          minified="true"
          [rowData]="calculations$ | ngrxPush"
          [selectedNodeId]="selectedCalculationNodeId$ | ngrxPush"
          [isLoading]="calculationsLoading$ | ngrxPush"
          [errorMessage]="calculationsErrorMessage$ | ngrxPush"
          (selectionChange)="selectCalculation($event)"
        ></cdba-calculations-table>
      </div>
    </mat-tab>
    <mat-tab label="{{ t('chart') }}">
      <ng-container *ngIf="childrenOfSelectedBomItem$ | ngrxPush as children">
        <cdba-bom-chart [data]="children"></cdba-bom-chart>
        <cdba-bom-legend
          *ngIf="children.length > 0"
          [data]="children"
        ></cdba-bom-legend>
        Â </ng-container
      >
      <cdba-loading-spinner
        *ngIf="bomLoading$ | ngrxPush"
        show="true"
      ></cdba-loading-spinner>
    </mat-tab>
  </mat-tab-group>
</div>
