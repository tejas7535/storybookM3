<ng-container *ngrxLet="selectedBearing$; let selectedBearing">
  <div
    *transloco="let t; read: 'bearing.bearingSelection.quickSelection'"
    class="relative"
  >
    <schaeffler-search
      appearance="outline"
      [placeholder]="t('searchPlaceholder')"
      [stringOptions]="bearingResultList$ | ngrxPush"
      [initialValue]="
        selectedBearing
          ? { id: selectedBearing, title: selectedBearing }
          : undefined
      "
      [loading]="bearingSelectionLoading$ | ngrxPush"
      (searchUpdated)="onSearchUpdated($event)"
      (optionSelected)="onOptionSelected($event)"
    >
      <div loadingContent class="relative h-16">
        <ng-container *ngTemplateOutlet="loadingTemplate"></ng-container>
      </div>
    </schaeffler-search>
    <div class="text-center md:text-right">
      <button
        *ngIf="showSelectButton; else advancedBearingButton"
        mat-flat-button
        color="primary"
        class="w-full md:w-auto"
        (click)="onBearingSelectionButtonClick(selectedBearing)"
        [disabled]="(modelCreationLoading$ | ngrxPush) || !selectedBearing"
      >
        {{ t('selectButton') }}
      </button>
      <ng-template #advancedBearingButton>
        <ga-advanced-bearing-button></ga-advanced-bearing-button>
      </ng-template>
    </div>
    <ng-container *ngIf="modelCreationLoading$ | ngrxPush">
      <ng-container *ngTemplateOutlet="loadingTemplate"></ng-container>
    </ng-container>
  </div>
  <ng-template #loadingTemplate>
    <div
      class="absolute top-0 left-0 flex h-full w-full items-center justify-center rounded border border-[white] bg-surface"
    >
      <mat-spinner diameter="20"></mat-spinner>
    </div>
  </ng-template>
</ng-container>
