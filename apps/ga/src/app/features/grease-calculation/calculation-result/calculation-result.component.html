<ng-container *transloco="let t; read: 'calculationResult'">
  <div class="flex h-full flex-col px-4">
    <schaeffler-subheader
      class="-mx-4"
      *ngrxLet="selectedBearing$ as selectedBearing"
      [hideLine]="true"
      (backButtonClicked)="navigateBack()"
    >
      <ng-container subheaderTitleContent>
        <span class="hidden sm:block">{{ t('title.main') }}&nbsp;</span>
        <span class="truncate">{{ selectedBearing }}</span>
        <mat-icon
          class="ml-2 !h-[28px] !w-[28px] cursor-help !text-[28px] text-link sm:ml-4 sm:!h-[34px] sm:!w-[34px] sm:!text-h4"
          #tooltip="matTooltip"
          [matTooltip]="t('title.247hint')"
          (click)="tooltip.toggle()"
        >
          info_outline
        </mat-icon>
      </ng-container>
    </schaeffler-subheader>
    <div *ngIf="reportUrls; else loading_spinner">
      <div *ngIf="!isProduction" class="mb-4 flex w-full justify-end">
        <mat-slide-toggle
          color="primary"
          labelPosition="before"
          [(ngModel)]="showCompactView"
        >
          {{ t('showCompactView') }}
        </mat-slide-toggle>
      </div>
      <ga-grease-report
        *ngIf="showCompactView"
        [greaseReportUrl]="reportUrls.jsonReportUrl"
        [preferredGreaseResult]="preferredGreaseSelection$ | ngrxPush"
        [automaticLubrication]="automaticLubrication$ | ngrxPush"
      ></ga-grease-report>

      <schaeffler-html-report
        *ngIf="!showCompactView"
        [htmlReportUrl]="reportUrls.htmlReportUrl"
        [reportSelector]="reportSelector"
      >
      </schaeffler-html-report>
    </div>
    <ng-template #loading_spinner>
      <div class="flex flex-1 items-center justify-center">
        <mat-spinner diameter="50"></mat-spinner>
      </div>
    </ng-template>
  </div>
</ng-container>
