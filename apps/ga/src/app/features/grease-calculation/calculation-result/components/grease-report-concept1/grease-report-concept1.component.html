<ng-container *ngIf="settings">
  <div
    *transloco="let t; read: 'calculationResult.concept1settings'"
    class="flex w-full flex-col items-center"
    [ngClass]="{ '!cursor-pointer': getDurationMonths() }"
    (click)="onShowDetails()"
  >
    <div class="!-mt-2 !-mr-3 self-end">
      <button
        *ngIf="getDurationMonths()"
        mat-icon-button
        (click)="onShowDetails()"
      >
        <mat-icon>search</mat-icon>
      </button>
    </div>
    <div
      [ngClass]="{ 'opacity-25': !getDurationMonths() }"
      class="h-[162px] w-[162px] origin-top-left scale-[45%] transform-gpu"
    >
      <schaeffler-rotary-control
        [controlValue]="getDurationMonths()"
        [controlItems]="availableMonths"
        [offsetAngle]="45"
      ></schaeffler-rotary-control>
    </div>
    <p
      *ngIf="getDurationMonths()"
      class="flex items-center gap-1 pt-2 text-body-2 text-low-emphasis"
    >
      {{
        t('duration', {
          months: getDurationMonths(),
          size: getDurationSize()
        })
      }}
      <mat-icon
        class="!h-[18px] !w-[18px] cursor-help !text-[18px]"
        #tooltipDetail="matTooltip"
        (click)="tooltipDetail.toggle()"
        [matTooltip]="settings.hint"
        >info_outline</mat-icon
      >
    </p>
    <button
      *ngIf="getDurationMonths(); else whyButton"
      mat-button
      color="primary"
      (click)="onShowDetails()"
    >
      {{ t('details') }}
    </button>
    <ng-template #whyButton>
      <button
        mat-button
        color="primary"
        #tooltipWhy="matTooltip"
        (click)="tooltipWhy.toggle()"
        [matTooltip]="settings.hint"
      >
        {{ t('why') }}
      </button>
    </ng-template>
  </div>
</ng-container>
