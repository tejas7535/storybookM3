<ng-container *ngIf="greaseResult">
  <div
    *transloco="let t; read: 'calculationResult'"
    class="overflow-hidden border-y-[1.5px] border-border lg:rounded lg:border-x-[1.5px]"
    [ngClass]="{
      'border-primary': greaseResult.isPreferred,
      '!border-attention': !greaseResult.isSufficient
    }"
  >
    <div class="p-3">
      <div class="flex items-center justify-end">
        <div class="flex-1 font-medium">
          {{ greaseResult.mainTitle }}
        </div>
        <div
          *ngIf="!greaseResult.isSufficient"
          class="relative ml-3 inline-block pr-7"
        >
          <div
            class="ml-3 inline-block rounded-full bg-orange px-3 py-[1px] text-caption text-high-emphasis-dark-bg"
          >
            {{ t('insufficientGreaseResultHint') }}
          </div>
          <mat-icon
            color="primary"
            class="absolute right-0 top-[-2px] cursor-help"
            matTooltip="{{ t('insufficientGreaseResultTooltip') }}"
            matTooltipPosition="below"
            matTooltipClass="!max-w-[400px]"
          >
            info_outline
          </mat-icon>
        </div>
        <div
          *ngIf="
            greaseResult.isSufficient &&
            indicateGreasePreference &&
            ((automaticLubrication && !isUnSuited()) ||
              automaticLubrication === false)
          "
          class="ml-3 inline-block rounded-full bg-background-dark px-3 py-[1px] text-caption text-medium-emphasis"
          [ngClass]="{
            '!bg-primary !text-high-emphasis-dark-bg': greaseResult.isPreferred
          }"
        >
          {{
            t(
              greaseResult.isPreferred
                ? 'preferredGreaseHintSelected'
                : 'preferredGreaseHintAlternative'
            )
          }}
        </div>
        <div
          *ngIf="
            automaticLubrication &&
            ((greaseResult.isSufficient && indicateGreasePreference) ||
              (greaseResult.isSufficient && !indicateGreasePreference))
          "
          class="ml-3 inline-block rounded-full px-3 py-[1px] text-caption text-high-emphasis-dark-bg"
          [ngClass]="{
            '!bg-primary': isSuited(),
            '!bg-orange': isUnSuited(),
            '!bg-background-dark !text-medium-emphasis':
              !isSuited() && !isUnSuited()
          }"
        >
          {{ t('concept1settings.' + getLabel()) }}
        </div>
      </div>

      <div class="text-caption text-medium-emphasis">
        {{ greaseResult.subTitle }}
      </div>
      <div
        *ngIf="
          greaseResult.isSufficient && greaseResult.subTitle && !isUnSuited()
        "
        class="pt-3"
      >
        <a
          mat-raised-button
          color="primary"
          [attr.href]="getShopUrl()"
          target="_blank"
          (click)="trackGreaseSelection()"
        >
          <mat-icon>water_drop_outline</mat-icon>
          {{ t('shopLinkText') }}
        </a>
      </div>
    </div>
    <schaeffler-label-value
      [labelValues]="labelValues | automaticLubrication: automaticLubrication"
      [labelMaxWidth]="labelWidth"
    >
      <ng-template #custom let-row="row" let-settings="data">
        <div *ngIf="row === 'concept1'">
          <ga-grease-report-concept1
            [settings]="settings"
          ></ga-grease-report-concept1>
        </div>
      </ng-template>
    </schaeffler-label-value>
    <div
      class="cursor-pointer rounded px-3 py-4 hover:bg-hover-overlay focus:bg-focus-overlay"
      (click)="toggleShowValues()"
    >
      {{ t(showAllValues ? 'hideValues' : 'allValues') }}
    </div>
  </div>
</ng-container>
