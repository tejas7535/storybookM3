<ng-container *ngIf="greaseResult">
  <div
    *transloco="let t; read: 'calculationResult'"
    class="overflow-hidden border-y border-border md:rounded md:border-x"
    [ngClass]="{
      'border-primary': greaseResult.isPreferred,
      '!border-[#a31739]': !greaseResult.isSufficient
    }"
  >
    <div class="p-3">
      <a
        *ngIf="greaseResult.isSufficient; else insufficientGreaseResult"
        class="flex items-center justify-between font-medium text-link"
        [attr.href]="getShopUrl()"
        target="_blank"
        (click)="trackGreaseSelection()"
      >
        <div>
          {{ greaseResult.mainTitle }}
          <mat-icon
            class="ml-1 !h-[auto] !w-[auto] align-text-bottom !text-[16px] !leading-[inherit]"
            >open_in_new</mat-icon
          >
        </div>
        <div
          *ngIf="indicateGreasePreference"
          class="ml-3 inline-block rounded-full bg-background-dark px-3 py-[1px] text-caption font-normal text-medium-emphasis"
          [ngClass]="{ '!bg-primary !text-white': greaseResult.isPreferred }"
        >
          {{
            t(
              greaseResult.isPreferred
                ? 'preferredGreaseHintSelected'
                : 'preferredGreaseHintAlternative'
            )
          }}
        </div>
      </a>
      <ng-template #insufficientGreaseResult>
        <div class="inline-block font-medium text-medium-emphasis">
          {{ greaseResult.mainTitle }}
        </div>
        <div class="relative ml-3 inline-block pr-7 font-medium text-error">
          {{ t('insufficientGreaseResultHint') }}
          <mat-icon
            color="primary"
            class="absolute right-0 top-[-2px] cursor-help"
            matTooltip="{{ t('insufficientGreaseResultTooltip') }}"
            matTooltipPosition="below"
            matTooltipClass="!max-w-[400px]"
          >
            info_outline
          </mat-icon>
        </div>
      </ng-template>
      <p class="text-caption">
        {{ greaseResult.subTitle }}
      </p>
    </div>
    <schaeffler-label-value
      [labelValues]="labelValues"
      [labelMaxWidth]="labelWidth"
    ></schaeffler-label-value>
    <div
      class="cursor-pointer rounded px-3 py-4 hover:bg-hover-overlay focus:bg-focus-overlay"
      (click)="toggleShowValues()"
    >
      {{ t(showAllValues ? 'hideValues' : 'allValues') }}
    </div>
  </div>
</ng-container>
