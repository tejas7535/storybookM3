<ng-container *transloco="let t; read: 'report'">
  <schaeffler-subheader
    class="shrink flex"
    [showBackButton]="true"
    [title]="t('title')"
    (backButtonClicked)="navigateBack()"
  >
  </schaeffler-subheader>
  <div class="py-4">
    <mat-slide-toggle
      color="primary"
      labelPosition="before"
      [(ngModel)]="showCompactView"
    >
      <span class="text-body-1 text-medium-emphasis">
        {{ t('showCompactView') }}
      </span>
    </mat-slide-toggle>
  </div>
  <schaeffler-report
    *ngIf="showCompactView"
    [jsonReport]="jsonReportUrl"
    [type]="reportType"
  ></schaeffler-report>
  <ng-container *ngIf="!showCompactView">
    <schaeffler-report
      *ngIf="reportUrls$ | ngrxPush as reportUrls; else loading_spinner"
      [htmlReport]="reportUrls.htmlReportUrl"
      [reportSelector]="reportSelector"
    >
      <!-- <div class="flex flex-col md:flex-row">
      <a
        mat-raised-button
        color="primary"
        class="grow"
        [href]="result.pdfReportUrl"
      >
        {{ t('downloadReport') }}
      </a>
    </div> -->
    </schaeffler-report>
  </ng-container>
  <ng-template #loading_spinner>
    <schaeffler-loading-spinner></schaeffler-loading-spinner>
  </ng-template>
</ng-container>
