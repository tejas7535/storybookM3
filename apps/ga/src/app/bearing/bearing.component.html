<div
  *transloco="let t; read: 'bearing'"
  class="flex h-full max-w-full flex-col"
>
  <schaeffler-subheader
    class="-ml-4"
    [showBackButton]="true"
    [subheaderTitle]="t('bearingSelection')"
    [hideLine]="true"
    (backButtonClicked)="navigateBack()"
  >
    <ng-container subheaderBlockContent> {{ t('subtitle') }} </ng-container>
  </schaeffler-subheader>
  <div class="-ml-4 -mt-2 mb-4 flex flex-row">
    <button
      mat-button
      color="primary"
      [disableRipple]="true"
      (click)="toggleSelection()"
    >
      {{ t(!detailSelection ? 'narrowDownSelection' : 'easySelection') }}
    </button>
  </div>
  <schaeffler-search-autocomplete
    *ngIf="!detailSelection; else detail_selection"
    [options]="bearingResultList$ | ngrxPush"
    [loading]="loading$ | ngrxPush"
    [formControl]="bearingSearchFormControl"
    [minimumChars]="minimumChars"
    (selection)="handleBearingSelection($event)"
    [label]="t('searchPlaceholder')"
    [noResultsText]="t('noResults')"
  ></schaeffler-search-autocomplete>
  <ng-template #detail_selection>
    <div class="flex max-w-7xl flex-col">
      <ga-advanced-bearing></ga-advanced-bearing>
      <ga-bearing-list
        (bearingSelection)="handleBearingSelection($event)"
      ></ga-bearing-list>
    </div>
  </ng-template>

  <div
    *ngIf="!detailSelection"
    class="flex flex-1 flex-col justify-end sm:w-1/3"
  >
    <img
      class="h-auto w-auto sm:max-h-full sm:object-cover"
      src="../../assets/images/bearingSearch.png"
    />
  </div>
</div>
