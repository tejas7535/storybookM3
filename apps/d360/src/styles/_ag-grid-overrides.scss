@mixin pseudo {
  content: ' ';
  position: absolute;
  width: 0;
  height: 100%;
  top: 0;
}

@mixin apply() {
  .fixed-action-column {
    @apply pl-0 pr-0 flex justify-center;
    gap: 8px;
  }

  .ag {
    &-theme-material {
      --ag-row-height: 42px !important;
      --ag-font-family: var(--app-font-family);
      --ag-font-size: 14px;
      --ag-background-color: transparent;
      --ag-header-background-color: transparent;
      --ag-header-foreground-color: var(--scrim-color);
      --ag-data-color: var(--on-surface-variant-color);
      --ag-font-weight-bold: var(--font-weight-bold);
      --ag-side-bar-panel-width: 240px;

      .ag-row {
        height: var(--ag-row-height) !important;
      }

      .ag-filter-toolpanel-header,
      .ag-filter-toolpanel-search,
      .ag-status-bar,
      .ag-header-row,
      .ag-panel-title-bar-title,
      .ag-multi-filter-group-title-bar {
        font-weight: var(--ag-font-weight-bold);
      }

      .ag-header-cell-text {
        font-size: var(--ag-font-size);
      }

      .ag-rich-select-list {
        width: 100% !important;
        min-width: 200px !important;
      }

      .ag-row-selected {
        --ag-selected-row-background-color: #ffffff00;
        color: var(--primary-color-hex);
      }

      .ag-tool-panel-wrapper,
      .ag-menu {
        @apply bg-surface-container-high;
      }

      .ag-cell-inline-editing {
        height: calc(var(--ag-row-height));
        padding-top: 0;
        padding-bottom: 0;

        input[class^='ag-']:not([type]),
        input[class^='ag-'][type='text'],
        input[class^='ag-'][type='number'],
        input[class^='ag-'][type='tel'],
        input[class^='ag-'][type='date'],
        input[class^='ag-'][type='datetime-local'],
        textarea[class^='ag-'] {
          padding-bottom: 0;
          border-bottom: 0;
        }
      }

      .ag-center-cols-container {
        .is-active {
          border-left: 6px solid #f5a623;
        }

        .is-prio1 {
          border-left: 6px solid #ebdce8;
        }

        .is-prio2 {
          border-left: 6px solid #e8e8e8;
        }

        .is-info {
          border-left: 6px solid #e0edf4;
        }

        .is-deactivated {
          border-left: 6px solid var(--on-surface-variant-color);
        }

        .is-closed {
          border-left: 6px solid #00893d;
        }
      }

      .ag-sticky-top,
      .ag-sticky-bottom,
      .ag-dnd-ghost {
        background-color: #fff;
      }
    }

    // high color (overlay)
    &-panel,
    &-rich-select-value,
    &-rich-select-list,
    &-cell-inline-editing {
      background: var(--surface-container-high-color) !important;
    }

    // highest color (overlay in overlay)
    &-select-list {
      background: var(--surface-container-highest-color) !important;
    }

    &-root-wrapper {
      min-height: 400px !important;
    }

    &-popup-child {
      &:not(.ag-tooltip-custom) {
        margin-left: 1px;
      }
    }

    &-popup-editor {
      .ag-rich-select-value {
        min-width: 300px;
      }
    }

    &-cell {
      &.schaeffler-border-left {
        &::before {
          @include pseudo;
          left: 0;
          border-left: 1px dashed #00893d;
        }
      }

      &.warning-border-right {
        &::before {
          @include pseudo;
          right: 2px;
          border-right: 1px dashed #f5a623;
        }
      }

      &.error-border-right {
        &::after {
          @include pseudo;
          right: 0;
          border-right: 1px dashed #a31839;
        }
      }
    }
  }
}
