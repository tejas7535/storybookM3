<mat-form-field
  [formGroup]="form()"
  [ngClass]="{ 'filter-dropdown-disabled': disabled() }"
  appearance="outline"
  class="filter-dropdown"
>
  <!-- label -->
  <mat-label>{{ label() }}</mat-label>

  <!-- The selection list -->
  <mat-select
    (selectionChange)="onSelectionChange($event)"
    [multiple]="multiSelect()"
    [formControl]="control()"
  >
    <!-- formatted selected values -->
    <mat-select-trigger>{{ getSelectedValues() }}</mat-select-trigger>

    <!-- The selection options -->
    @for (option of options(); track option.id) {
      <mat-option [value]="option">
        {{ formatOptionValue() ? formatOptionValue()(option) : option.text }}
      </mat-option>
    }
  </mat-select>

  <!-- if available a hint text -->
  @if (hintText()) {
    <mat-hint>{{ hintText() }}</mat-hint>
  }
</mat-form-field>
