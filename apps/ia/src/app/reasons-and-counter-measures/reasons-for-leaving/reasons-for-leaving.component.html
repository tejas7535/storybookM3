<mat-card *transloco="let t; read: 'reasonsAndCounterMeasures'">
  <h5 class="col-span-3 font-bold mb-5">
    {{ t('topFiveReasons.title') }}
  </h5>
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 bg-white p-4 w-full">
    <ia-filter
      class="order-1"
      [orgUnits]="orgUnits$ | ngrxPush"
      [selectedOrgUnit]="selectedOrgUnit$ | ngrxPush"
      [disableFilters]="true"
      [timePeriods]="timePeriods$ | ngrxPush"
      [selectedTimePeriod]="selectedTimePeriod$ | ngrxPush"
      [selectedTime]="selectedTime$ | ngrxPush"
    >
    </ia-filter>
    <ia-filter
      class="order-3 lg:order-2 lg:col-end-4"
      [orgUnits]="orgUnits$ | ngrxPush"
      [selectedOrgUnit]="comparedSelectedOrgUnit$ | ngrxPush"
      [timePeriods]="timePeriods$ | ngrxPush"
      [selectedTimePeriod]="comparedSelectedTimePeriod$ | ngrxPush"
      [selectedTime]="comparedSelectedTime$ | ngrxPush"
      [disabledTimeRangeFilter]="comparedDisabledTimeRangeFilter"
      (orgUnitInvalid)="orgUnitInvalid($event)"
      (optionSelected)="comparedOptionSelected($event)"
      (timePeriodSelected)="comparedTimePeriodSelected($event)"
      (timeRangeSelected)="comparedTimeRangeSelected($event)"
      (orgUnitInvalid)="orgUnitInvalid($event)"
    >
    </ia-filter>
    <ia-reasons-for-leaving-table
      class="order-2 lg:order-3"
      [data]="reasonsTableData$ | ngrxPush"
      [loading]="reasonsLoading$ | ngrxPush"
    >
    </ia-reasons-for-leaving-table>
    <ia-reasons-for-leaving-chart
      class="order-5 lg:order-4 min-h-[592px]"
      [isLoading]="reasonsLoading$ | ngrxPush"
      [config]="reasonsChartConfig$ | ngrxPush"
      [data]="reasonsChartData$ | ngrxPush"
      [comparedConfig]="comparedReasonsChartConfig$ | ngrxPush"
      [comparedData]="comparedReasonsChartData$ | ngrxPush"
    ></ia-reasons-for-leaving-chart>
    <ia-reasons-for-leaving-table
      class="order-4 lg:order-6"
      [data]="comparedReasonsTableData$ | ngrxPush"
    >
    </ia-reasons-for-leaving-table>
  </div>
</mat-card>
