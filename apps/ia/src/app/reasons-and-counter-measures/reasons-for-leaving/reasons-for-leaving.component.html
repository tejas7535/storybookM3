<mat-card class="!flex pb-2 w-full">
  <div
    class="grid grid-cols-3 gap-4 bg-white p-4 w-full"
    *transloco="let t; read: 'reasonsAndCounterMeasures'"
  >
    <h5 class="col-span-3 font-bold mb-5">{{ t('topFiveReasons.title') }}</h5>
    <div>
      <ia-filter
        [orgUnits]="orgUnits$ | ngrxPush"
        [selectedOrgUnit]="selectedOrgUnit$ | ngrxPush"
        [disableFilters]="true"
        [timePeriods]="timePeriods$ | ngrxPush"
        [selectedTimePeriod]="selectedTimePeriod$ | ngrxPush"
        [selectedTime]="selectedTime$ | ngrxPush"
      >
      </ia-filter>
      <ia-reasons-for-leaving-table
        [data]="reasonsTableData$ | ngrxPush"
        [loading]="reasonsLoading$ | ngrxPush"
      >
      </ia-reasons-for-leaving-table>
    </div>
    <div>
      <ia-reasons-for-leaving-chart
        [isLoading]="reasonsLoading$ | ngrxPush"
        [config]="reasonsChartConfig$ | ngrxPush"
        [data]="reasonsChartData$ | ngrxPush"
        [comparedConfig]="comparedReasonsChartConfig$ | ngrxPush"
        [comparedData]="comparedReasonsChartData$ | ngrxPush"
      ></ia-reasons-for-leaving-chart>
    </div>
    <div>
      <ia-filter
        [orgUnits]="orgUnits$ | ngrxPush"
        [selectedOrgUnit]="comparedSelectedOrgUnit$ | ngrxPush"
        [timePeriods]="timePeriods$ | ngrxPush"
        [selectedTimePeriod]="comparedSelectedTimePeriod$ | ngrxPush"
        [selectedTime]="comparedSelectedTime$ | ngrxPush"
        [disabledTimeRangeFilter]="comparedDisabledTimeRangeFilter"
        (orgUnitInvalid)="orgUnitInvalid($event)"
        (optionSelected)="comparedOptionSelected($event)"
        (timePeriodSelected)="comparedTimePeriodSelected($event)"
        (timeRangeSelected)="comparedTimeRangeSelected($event)"
        (orgUnitInvalid)="orgUnitInvalid($event)"
      >
      </ia-filter>
      <ia-reasons-for-leaving-table
        [data]="comparedReasonsTableData$ | ngrxPush"
      >
      </ia-reasons-for-leaving-table>
    </div>
  </div>
</mat-card>
