<div
  class="grid grid-cols-2 gap-4"
  *transloco="let t; read: 'overview.openPositions'"
>
  <div>
    <h6
      class="mb-3.5"
      (click)="$event.stopPropagation()"
      *transloco="let t; read: 'overview.openPositions'"
    >
      {{ t('title') }}
    </h6>
    <p
      class="mb-4 uppercase opacity-60"
      *transloco="let t; read: 'overview.openPositions'"
    >
      {{ t('openForApplications') }}
    </p>
  </div>
  <div class="gap-4 justify-self-end pr-[16px]">
    <div class="flex flex-row items-center justify-center gap-2">
      <mat-icon
        class="!h-[16px] !w-[16px] !text-[16px]"
        [ngStyle]="{ color: colors.GREEN }"
        >west</mat-icon
      >
      <p>{{ t('internal') }}</p>
    </div>
    <div class="flex flex-row items-center justify-center gap-2">
      <mat-icon
        class="ml-[3px] !h-[16px] !w-[16px] !text-[16px]"
        [ngStyle]="{ color: colors.BLUE }"
        >east</mat-icon
      >
      <p>{{ t('external') }}</p>
    </div>
  </div>
</div>

<mat-list
  *ngIf="!isLoadingOpenApplications; else loading"
  (click)="$event.stopPropagation()"
>
  <ng-container
    *ngFor="let application of openApplications; trackBy: trackByFn"
  >
    <mat-list-item class="!px-0">
      <div
        matBadgePosition="before"
        [matBadge]="application.count"
        matBadgeOverlap="false"
        matBadgeColor="primary"
        class="flex h-full w-full flex-row content-center"
      >
        <span class="ml-7 mr-2 flex self-center">
          {{ application.name }}
        </span>
        <mat-icon
          class="!h-[16px] !w-[16px] self-center !text-[16px]"
          [ngStyle]="{
            color: colors.BLUE
          }"
          *ngIf="application.isExternal"
          >east</mat-icon
        >
        <mat-icon
          class="!h-[16px] !w-[16px] self-center !text-[16px]"
          [ngStyle]="{
            color: colors.GREEN
          }"
          *ngIf="application.isInternal"
          >west</mat-icon
        >

        <span class="ml-auto flex justify-end self-center">
          {{ application.approvalDate | date: 'dd.MM.yyyy' }}
        </span>
      </div>
    </mat-list-item>
    <mat-divider></mat-divider>
  </ng-container>
</mat-list>
<ng-template #loading>
  <schaeffler-loading-spinner
    class="mr-8"
    [relative]="true"
    [diameter]="20"
    [strokeWidth]="2"
  >
  </schaeffler-loading-spinner>
</ng-template>
