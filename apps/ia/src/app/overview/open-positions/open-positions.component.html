<div
  *transloco="let t; read: 'overview.openPositions'"
  class="flex flex-col items-center justify-center h-full"
>
  <h5 class="flex mr-auto">
    {{ t('title') }}
    <mat-icon class="ml-1 self-center" [matTooltip]="t('tooltip')"
      >info</mat-icon
    >
  </h5>
  @if (available) {
    <div class="flex flex-row mt-4 h-full items-center">
      <div class="flex grow flex-col">
        <div class="pl-4">
          <div class="flex flex-row items-center">
            @if (!openApplicationsCountLoading) {
              <h4 class="mr-4">
                {{ openApplicationsCount | defaultValue }}
              </h4>
            } @else {
              <schaeffler-loading-spinner
                class="mr-8"
                [relative]="true"
                [diameter]="20"
                [strokeWidth]="2"
              >
              </schaeffler-loading-spinner>
            }
            <button
              [matMenuTriggerFor]="openApplicationsMenu"
              mat-fab
              class="mt-2 flex"
              [disabled]="!openApplicationsCount || openApplicationsCount === 0"
              [ngClass]="{ 'cursor-not-allowed': openApplicationsCount === 0 }"
              (click)="onButtonClick()"
            >
              <mat-icon>group_add</mat-icon>
            </button>
            <mat-menu
              xPosition="before"
              #openApplicationsMenu="matMenu"
              class="!max-w-none !px-4 shadow"
            >
              <ia-open-positions-list
                [openApplications]="openApplications"
                [isLoadingOpenApplications]="openApplicationsLoading"
              ></ia-open-positions-list>
            </mat-menu>
          </div>
        </div>
      </div>
      <div class="flex grow flex-col">
        <div class="flex grow flex-col">
          <div class="pl-4"></div>
        </div>
      </div>
    </div>
  } @else {
    <div
      *transloco="let t; read: 'openPositions'"
      class="py-4 text-center text-title-small leading-6 text-on-warning-container"
    >
      <mat-icon [inline]="true" class="mr-1 align-bottom text-icon-warning"
        >warning_amber</mat-icon
      >
      <span [innerHTML]="t('dataUnavailable')"></span>
    </div>
  }
</div>
