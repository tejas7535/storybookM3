<div *transloco="let t; read: 'overview'">
  <div class="bg-white flex gap-4 p-4 flex-wrap lg:flex-nowrap">
    <div class="shadow p-4 w-full lg:w-[24%] flex flex-col">
      <div class="flex-1">
        <div class="flex flex-col h-full">
          <h5>{{ t('fluctuationRate') }}</h5>
          <div class="grid grid-cols-2 divide-x divide-solid divide-hover pb-4">
            <div class="pl-4 mb-4">
              <ia-kpi
                [title]="t('companyName')"
                [value]="(fluctuationKpi$ | ngrxPush)?.kpiRates.company"
              ></ia-kpi>
            </div>
            <div class="pl-4 mb-4">
              <ia-kpi
                [title]="(fluctuationKpi$ | ngrxPush)?.orgUnitName"
                [value]="(fluctuationKpi$ | ngrxPush)?.kpiRates.orgUnit"
                [employees]="(fluctuationKpi$ | ngrxPush)?.exitEmployees"
                [employeeListDialogMetaHeadings]="
                  employeeListDialogMetaHeadings$ | ngrxPush
                "
              ></ia-kpi>
            </div>
          </div>
          <div class="flex-grow">
            <ia-line-chart
              [config]="fluctuationChartData$ | ngrxPush"
              [isDataLoading]="isFluctuationChartLoading$ | ngrxPush"
              [title]="t('chartTitle')"
            ></ia-line-chart>
          </div>
        </div>
      </div>
    </div>
    <div class="shadow p-4 w-full lg:w-[24%] flex flex-col">
      <div class="flex-1">
        <div class="flex flex-col h-full">
          <h5>{{ t('unforcedFluctuationRate') }}</h5>
          <div class="grid grid-cols-2 divide-x divide-solid divide-hover pb-4">
            <div class="pl-4 mb-4">
              <ia-kpi
                [title]="t('companyName')"
                [value]="(unforcedFluctuationKpi$ | ngrxPush)?.kpiRates.company"
              ></ia-kpi>
            </div>
            <div class="pl-4 mb-4">
              <ia-kpi
                [title]="(unforcedFluctuationKpi$ | ngrxPush)?.orgUnitName"
                [value]="(unforcedFluctuationKpi$ | ngrxPush)?.kpiRates.orgUnit"
                [employees]="
                  (unforcedFluctuationKpi$ | ngrxPush)?.exitEmployees
                "
                [employeeListDialogMetaHeadings]="
                  employeeListDialogMetaHeadings$ | ngrxPush
                "
              ></ia-kpi>
            </div>
          </div>
          <div class="flex-grow">
            <ia-line-chart
              [config]="unforcedFluctuationChartData$ | ngrxPush"
              [isDataLoading]="isUnforcedFluctuationChartLoading$ | ngrxPush"
              [title]="t('chartTitle')"
            ></ia-line-chart>
          </div>
        </div>
      </div>
    </div>
    <div class="shadow p-4 w-full lg:flex-grow lg:max-w-[29%] flex flex-col">
      <div class="flex-1">
        <ia-entries-exits
          [entriesDoughnutConfig]="entriesDoughnutConfig$ | ngrxPush"
          [isDataLoading]="isLoadingDoughnutsConfig$ | ngrxPush"
          [exitsDoughnutConfig]="exitsDoughnutConfig$ | ngrxPush"
          [entriesCount]="entriesCount$ | ngrxPush"
          [exitsCount]="exitsCount$ | ngrxPush"
          [exitEmployees]="exitEmployees$ | ngrxPush"
          [entryEmployees]="entryEmployees$ | ngrxPush"
          [employeeListDialogMetaHeadings]="
            employeeListDialogMetaHeadings$ | ngrxPush
          "
        ></ia-entries-exits>
      </div>
    </div>

    <div class="flex flex-col w-full lg:w-auto flex-grow">
      <div class="flex-1 flex flex-col gap-4">
        <div class="shadow p-4">
          <ia-open-positions
            [openApplications]="openApplications$ | ngrxPush"
            [loading]="openApplicationsLoading$ | ngrxPush"
          ></ia-open-positions>
        </div>
        <div class="shadow p-4 flex-grow">
          <ia-resignations
            [data]="resignedEmployees$ | ngrxPush"
            [loading]="resignedEmployeesLoading$ | ngrxPush"
          ></ia-resignations>
        </div>
      </div>
    </div>
  </div>

  <h5>
    {{ t('attritionRateDetails.title') }}
  </h5>
  <div class="bg-white">
    <ia-overview-chart
      [loading]="attritionRateloading$ | ngrxPush"
      [events]="events$ | ngrxPush"
      [data]="attritionData$ | ngrxPush"
    >
    </ia-overview-chart>
  </div>
</div>
