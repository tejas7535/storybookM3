<schaeffler-app-shell
  *ngIf="isLoggedIn$ | ngrxPush; else loading"
  [appTitle]="title"
  [hasSidebarLeft]="true"
  [userName]="username$ | ngrxPush"
  [userImageUrl]="profileImage$ | ngrxPush"
>
  <ng-container sidenavBody>
    <ia-user-settings></ia-user-settings>
  </ng-container>

  <ng-container mainContent>
    <div class="flex h-full w-full flex-col">
      <ia-filter-section></ia-filter-section>

      <nav
        mat-tab-nav-bar
        mat-stretch-tabs
        *transloco="let t; read: 'tabs'"
        class="shadow-md"
      >
        <a
          *ngFor="let tab of tabs; trackBy: trackByFn"
          mat-tab-link
          routerLinkActive
          #rla="routerLinkActive"
          [routerLink]="tab.path"
          [active]="rla.isActive"
          [disabled]="tab.disabled"
          >{{ t(tab.label) | uppercase }}</a
        >
      </nav>
      <div class="flex grow flex-col overflow-y-auto border-border p-4">
        <div class="flex-1">
          <router-outlet></router-outlet>
        </div>
      </div>
    </div>
  </ng-container>
</schaeffler-app-shell>

<ng-template #loading>
  <schaeffler-loading-spinner
    [diameter]="40"
    [strokeWidth]="4"
  ></schaeffler-loading-spinner>
</ng-template>
