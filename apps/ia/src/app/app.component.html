<schaeffler-app-shell
  *ngIf="isLoggedIn$ | ngrxPush; else loading"
  [appTitle]="title"
  [hasSidebarLeft]="true"
  [userName]="username$ | ngrxPush"
  [userImageUrl]="profileImage$ | ngrxPush"
>
  <ng-container sidenavBody>
    <ia-user-settings></ia-user-settings>
  </ng-container>

  <ng-container mainContent>
    <div class="flex flex-col h-full w-full">
      <ia-filter-section></ia-filter-section>

      <nav mat-tab-nav-bar mat-stretch-tabs *transloco="let t; read: 'tabs'">
        <a
          *ngFor="let tab of tabs; trackBy: trackByFn"
          mat-tab-link
          routerLinkActive
          #rla="routerLinkActive"
          [routerLink]="tab.path"
          [active]="rla.isActive"
          [disabled]="tab.disabled"
          >{{ t(tab.label) | uppercase }}</a
        >
      </nav>
      <div class="flex flex-col overflow-y-auto flex-grow p-4 bg-lightBg">
        <router-outlet></router-outlet>
      </div>
    </div>
  </ng-container>
</schaeffler-app-shell>

<ng-template #loading>
  <schaeffler-loading-spinner
    [diameter]="40"
    [strokeWidth]="4"
  ></schaeffler-loading-spinner>
</ng-template>
