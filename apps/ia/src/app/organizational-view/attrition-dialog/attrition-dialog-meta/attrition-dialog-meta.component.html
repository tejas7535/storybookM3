<div
  *transloco="let t; read: 'organizationalView.attritionDialog'"
  class="flex h-full flex-col"
>
  <h6
    class="mt-0 mr-0 mb-2 text-overline font-medium leading-4 text-medium-emphasis"
  >
    {{ t('metaTitle') }} ({{ meta?.selectedTimeRange }})
  </h6>
  <ng-container *ngIf="meta?.showAttritionRates">
    <div class="flex items-center text-body-1 leading-8">
      <mat-icon class="mr-1.5 !h-6 !w-6 text-medium-emphasis">
        insert_chart
      </mat-icon>
      <span [innerHTML]="t('fluctuationRate') + ':'"></span>
      <span class="ml-2 text-high-emphasis">
        {{ meta.data.fluctuationRate | defaultValue }}%
      </span>
    </div>
    <div class="flex text-body-1 leading-8">
      <mat-divider
        class="!-mt-1 !mr-[calc(1rem+1px)] !mb-3 !ml-3 flex"
        [vertical]="true"
      ></mat-divider>
      <div class="flex flex-col">
        <div class="flex text-medium-emphasis">
          <span [innerHTML]="t('unforcedFluctuationRate') + ':'"></span>
          <span class="ml-2 text-high-emphasis"
            >{{ meta.data.unforcedFluctuationRate | defaultValue }}%</span
          >
        </div>
        <div class="flex text-medium-emphasis">
          <span [innerHTML]="t('forcedFluctuationRate') + ':'">:</span>
          <span class="ml-2 text-high-emphasis"
            >{{ meta.data.forcedFluctuationRate | defaultValue }}%</span
          >
        </div>
        <div class="flex text-medium-emphasis">
          <span [innerHTML]="t('remainingFluctuationRate') + ':'">:</span>
          <span class="ml-2 text-high-emphasis"
            >{{ meta.data.remainingFluctuationRate | defaultValue }}%</span
          >
        </div>
      </div>
    </div>
  </ng-container>
  <div class="flex items-center text-body-1 leading-8">
    <mat-icon class="mr-1.5 !h-6 !w-6 text-medium-emphasis"
      >person_outline</mat-icon
    >
    <span
      class="flex text-medium-emphasis"
      [innerHTML]="t('employeesLost') + ':'"
    ></span>
    <span class="ml-2 text-high-emphasis">{{ meta.data.employeesLost }}</span>
  </div>
  <div
    class="flex text-body-1 leading-8"
    *ngIf="!meta.data.hideDetailedLeaverStats"
  >
    <mat-divider
      class="!-mt-1 !mr-[calc(1rem+1px)] !mb-3 !ml-3 flex"
      [vertical]="true"
    ></mat-divider>
    <div class="flex flex-col">
      <div class="flex text-medium-emphasis">
        <span [innerHTML]="t('unforcedFluctuation') + ':'"></span>
        <span class="ml-2 text-high-emphasis">{{
          meta.data.unforcedFluctuation
        }}</span>
      </div>
      <div class="flex text-medium-emphasis">
        <span [innerHTML]="t('forcedFluctuation') + ':'"></span>
        <span class="ml-2 text-high-emphasis">{{
          meta.data.forcedFluctuation
        }}</span>
      </div>
      <div class="flex text-medium-emphasis">
        <span [innerHTML]="t('remainingFluctuation') + ':'"></span>
        <span class="ml-2 text-high-emphasis">{{
          meta.data.remainingFluctuation
        }}</span>
      </div>
    </div>
  </div>
  <div class="flex items-center text-body-1 leading-8">
    <mat-icon class="mr-1.5 !h-6 !w-6 text-medium-emphasis">block</mat-icon>
    <div class="flex text-medium-emphasis">
      <span
        class="flex text-medium-emphasis"
        [innerHTML]="t('resignationsReceived') + ':'"
      ></span>
    </div>
    <span class="ml-2 text-high-emphasis">{{
      meta.data.resignationsReceived
    }}</span>
  </div>
  <div class="flex items-center text-body-1 leading-8">
    <mat-icon class="mr-1.5 !h-6 !w-6 text-medium-emphasis"
      >person_add</mat-icon
    >
    <span
      class="flex text-medium-emphasis"
      [innerHTML]="t('employeesAdded') + ':'"
    ></span>
    <span class="ml-2 text-high-emphasis">{{ meta.data.employeesAdded }}</span>
  </div>
  <div class="flex items-center text-body-1 leading-8">
    <mat-icon class="mr-1.5 !h-6 !w-6 text-medium-emphasis"
      >people_outlined</mat-icon
    >
    <span
      class="flex text-medium-emphasis"
      [innerHTML]="t('openPositions') + ':'"
    ></span>
    <span
      *ngIf="meta.data.openPositionsAvailable; else openPositionsUnavailable"
      class="ml-2 text-high-emphasis"
      >{{ meta.data.openPositions }}</span
    >
  </div>
</div>

<ng-template #openPositionsUnavailable>
  <mat-icon
    *transloco="let t; read: 'openPositions'"
    class="ml-2 text-icon-warning"
    inline="true"
    [matTooltip]="t('dataUnavailable')"
    matTooltipClass="!text-warning"
    >warning_amber</mat-icon
  >
</ng-template>
