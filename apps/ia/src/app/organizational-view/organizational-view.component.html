<div
  class="relative flex h-full min-h-[400px] flex-col bg-surface"
  *ngrxLet="selectedChartType$ as selectedChart"
>
  <ia-toggle-charts
    [chartType]="selectedChart"
    (changed)="chartTypeChanged($event)"
  ></ia-toggle-charts>
  <ia-org-chart
    class="grow"
    *ngIf="selectedChart === chartType.ORG_CHART"
    [data]="orgChart$ | ngrxPush"
    [selectedTimeRange]="selectedTimeRange$ | ngrxPush"
    [isLoading]="isLoadingOrgChart$ | ngrxPush"
    (showParent)="loadParent($event)"
  ></ia-org-chart>
  <ia-world-map
    class="grow"
    *ngIf="selectedChart === chartType.WORLD_MAP"
    [data]="worldMap$ | ngrxPush"
    [continents]="worldMapContinents$ | ngrxPush"
    [selectedTimeRange]="selectedTimeRange$ | ngrxPush"
    [isLoading]="isLoadingWorldMap$ | ngrxPush"
  ></ia-world-map>
  <div class="absolute right-1 bottom-1 flex flex-col">
    <ia-chart-legend
      [items]="chartLegendItems"
      [title]="'organizationalView.worldMap.chartLegend.title'"
    ></ia-chart-legend>
  </div>
</div>
