<mat-accordion *transloco="let t; read: 'filters'">
  <mat-expansion-panel
    [expanded]="true"
    class="mat-elevation-z0"
    (opened)="expansionPanelToggled(true)"
    (closed)="expansionPanelToggled(false)"
  >
    <mat-expansion-panel-header>
      <mat-panel-title> {{ t('globalFilters') }} </mat-panel-title>
      <mat-panel-description *ngIf="!isExpanded">
        <ia-collapsed-filters
          [filters]="selectedFilterValues$ | ngrxPush"
        ></ia-collapsed-filters>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="mb-4 px-6">
      <ia-filter
        [layout]="filterLayout.DEFAULT"
        [availableDimensions]="availableDimensions$ | ngrxPush"
        [activeDimension]="activeDimension$ | ngrxPush"
        [businessAreaLoading]="businessAreaLoading$ | ngrxPush"
        [businessAreaFilter]="businessAreaFilter$ | ngrxPush"
        [orgUnitsLoading]="orgUnitsLoading$ | ngrxPush"
        [selectedBusinessArea]="selectedOrgUnit$ | ngrxPush"
        [timePeriods]="timePeriods$ | ngrxPush"
        [selectedTimePeriod]="selectedTimePeriod$ | ngrxPush"
        [selectedTime]="selectedTime$ | ngrxPush"
        (selectDimension)="dimensionSelected($event)"
        (selectFilter)="filterSelected($event)"
        (selectTimePeriod)="timePeriodSelected($event)"
        (autoCompleteInput)="autoCompleteOrgUnitsChange($event)"
      >
      </ia-filter>
    </div>
  </mat-expansion-panel>
</mat-accordion>
