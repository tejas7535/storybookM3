<mat-accordion *transloco="let t; read: 'filters'">
  <mat-expansion-panel
    [expanded]="true"
    class="mat-elevation-z0"
    (opened)="expansionPanelToggled(true)"
    (closed)="expansionPanelToggled(false)"
  >
    <mat-expansion-panel-header>
      <mat-panel-title> {{ t('globalFilters') }} </mat-panel-title>
      <mat-panel-description *ngIf="!isExpanded">
        <ia-collapsed-filters
          [filters]="selectedFilterValues$ | ngrxPush"
        ></ia-collapsed-filters>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="mb-4 px-6">
      <ia-filter
        [layout]="filterLayout.DEFAULT"
        [availableDimensions]="availableDimensions$ | ngrxPush"
        [dimensionDataLoading]="selectedDimensionDataLoading$ | ngrxPush"
        [benchmarkDimensionDataLoading]="
          benchmarkDimensionDataLoading$ | ngrxPush
        "
        [dimensionFilter]="selectedDimensionFilter$ | ngrxPush"
        [activeDimension]="activeDimension$ | ngrxPush"
        [selectedDimensionIdValue]="selectedDimensionIdValue$ | ngrxPush"
        [showBenchmarkFilter]="true"
        [benchmarkDimensionFilter]="benchmarkDimensionFilter$ | ngrxPush"
        [activeBenchmarkDimension]="activeBenchmarkDimension$ | ngrxPush"
        [benchmarkDimensionIdValue]="benchmarkDimensionIdValue$ | ngrxPush"
        [timePeriods]="timePeriods$ | ngrxPush"
        [selectedTimePeriod]="selectedTimePeriod$ | ngrxPush"
        [selectedTime]="selectedTime$ | ngrxPush"
        [benchmarkDimensionFilterTranslation]="
          benchmarkDimensionFilterTranslation$ | ngrxPush
        "
        [dimensionFilterTranslation]="dimensionFilterTranslation$ | ngrxPush"
        (selectDimension)="onDimensionSelected($event)"
        (selectBenchmarkDimension)="onBenchmarkDimensionSelected($event)"
        (benchmarkAutocompleteInput)="onBenchmarkAutocompleteInput($event)"
        (selectBenchmarkOption)="onBenchmarkOptionSelected($event)"
        (selectDimensionOption)="filterSelected($event)"
        (selectTimePeriod)="timePeriodSelected($event)"
        (selectTimeRange)="timeRangeSelected($event)"
        (autoCompleteInput)="onDimensionAutocompleteInput($event)"
        (selectedDimensionInvalid)="triggerDimensionDataClear()"
      >
      </ia-filter>
    </div>
  </mat-expansion-panel>
</mat-accordion>
