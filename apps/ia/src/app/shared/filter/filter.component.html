<ng-container *transloco="let t; read: 'filters'">
  <div
    class="flex gap-4"
    [class]="layout === filterLayout.DEFAULT ? 'flex-row' : 'flex-col'"
  >
    <ia-dimension-filter
      class="mr-6 flex columns-2 gap-2"
      [availableDimensions]="availableDimensions"
      [activeDimension]="activeDimension"
      [selectedDimensionIdValue]="selectedDimensionIdValue"
      [dimensionFilter]="dimensionFilter"
      [dimensionFilterTranslation]="dimensionFilterTranslation"
      [dimensionDataLoading]="dimensionDataLoading"
      [disableFilters]="disableFilters"
      (dimensionSelected)="onDimensionSelected($event)"
      (autocompleteInput)="onDimensionAutocompleteInput($event)"
      (optionSelected)="onDimensionOptionSelected($event)"
    ></ia-dimension-filter>

    <div class="mr-6 flex flex-col columns-2">
      <div class="flex flex-row gap-2 w-1/2">
        <div class="mb-2 mr-1">
          @if (!disableFilters) {
            <span class="flex mb-2">{{ t('periodOfTime.title') }}</span>
          }
          <ia-select-input
            [options]="timePeriods"
            [selectedOption]="selectedTimePeriod"
            [label]="t('periodOfTime.timePeriodLabel')"
            [hint]="
              disableFilters ? undefined : t('periodOfTime.timePeriodHint')
            "
            [disabled]="disableFilters || disabledTimeRangeFilter"
            (selected)="timePeriodSelected($event)"
          ></ia-select-input>
        </div>
        <div class="mb-2">
          @if (!disableFilters) {
            <div class="flex flex-row w-max">
              <span class="flex mb-2">{{
                t('periodOfTime.timeRangeTitle')
              }}</span>
              @if (isTimeRangeLimited) {
                <mat-icon
                  [matTooltip]="t('periodOfTime.timeRangeHint')"
                  class="text-high-emphasis ml-1 flex cursor-default"
                >
                  info
                </mat-icon>
              }
            </div>
          }
          <ia-date-input
            [timePeriod]="selectedTimePeriod"
            [timeRange]="selectedTime"
            [timeRangeConstraints]="timeRangeConstraints"
            [label]="t('periodOfTime.timeRangeLabel')"
            [hint]="disableFilters ? undefined : timeRangeHintValue"
            [placeholderStart]="t('periodOfTime.timeRangePlaceholderStart')"
            [placeholderEnd]="t('periodOfTime.timeRangePlaceholderEnd')"
            (selected)="timeRangeSelected($event)"
          ></ia-date-input>
        </div>
      </div>
    </div>

    @if (showBenchmarkFilter) {
      <ia-dimension-filter
        class="ml-auto flex"
        [availableDimensions]="availableDimensions"
        [activeDimension]="activeBenchmarkDimension"
        [selectedDimensionIdValue]="benchmarkDimensionIdValue"
        [dimensionFilter]="benchmarkDimensionFilter"
        [dimensionFilterTranslation]="benchmarkDimensionFilterTranslation"
        [dimensionDataLoading]="benchmarkDimensionDataLoading"
        (dimensionSelected)="onBenchmarkDimensionSelected($event)"
        (autocompleteInput)="onBenchmarkAutocompleteInput($event)"
        (optionSelected)="onBenchmarkOptionSelected($event)"
      ></ia-dimension-filter>
    }
  </div>
</ng-container>
