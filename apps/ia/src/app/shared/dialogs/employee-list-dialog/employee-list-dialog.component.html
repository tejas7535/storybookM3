<ng-container *transloco="let t; read: 'employeeListDialog'">
  @if (data?.headings?.header) {
    <div class="p-4">
      <mat-icon class="inline text-on-surface-variant">{{
        data?.headings.icon
      }}</mat-icon>
      <h5 class="inline align-top mx-2 leading-6">
        {{ data?.headings?.header }}
      </h5>
      <button mat-dialog-close class="inline float-right">
        <mat-icon>close</mat-icon>
      </button>
      <ng-container
        *ngrxLet="beautifiedFilters$ as beautifiedFilters"
        [ngTemplateOutlet]="headings"
        [ngTemplateOutletContext]="{
          $implicit: data?.headings?.showDefaultFilters
            ? beautifiedFilters
            : data?.headings?.customBeautifiedFilters
        }"
      >
      </ng-container>
    </div>
  }
  <mat-dialog-content
    class="!overflow-hidden"
    *ngrxLet="defaultExcelName$ as defaultExcelName"
  >
    <ia-employee-list-table
      [employees]="data.employees"
      [type]="data.type"
      [excludedColumns]="data.excludedColumns"
      [excelName]="data.customExcelFileName ?? defaultExcelName"
    ></ia-employee-list-table>
    @if (!data.employeesLoading && !data.enoughRightsToShowAllEmployees) {
      <span class="text-on-warning-container !pt-0">
        {{ t('enoughRightsToShowAllEmployees') }}
      </span>
    }
  </mat-dialog-content>
</ng-container>

<ng-template #headings let-beautifiedFilters>
  <div class="flex flex-row ml-10 text-body-small">
    <span class="text-on-surface-variant">Dimension:&nbsp;</span>
    <span class="text-on-surface">{{ beautifiedFilters.filterDimension }}</span>
    <span class="ml-4 text-on-surface-variant"
      >{{ beautifiedFilters.filterDimension }}:&nbsp;</span
    >
    <span class="text-on-surface">{{ beautifiedFilters.value }}</span>
    <span class="ml-4 text-on-surface-variant">Timeframe:&nbsp;</span>
    <span class="text-on-surface">{{ beautifiedFilters.timeRange }}</span>
    @if (beautifiedFilters.manager) {
      <span class="ml-4 text-on-surface-variant">Manager:&nbsp;</span>
      <span class="text-on-surface">{{ beautifiedFilters.manager }}</span>
    }
    @if (beautifiedFilters.job) {
      <span class="ml-4 text-on-surface-variant">Job:&nbsp;</span>
      <span class="text-on-surface">{{ beautifiedFilters.job }}</span>
    }
    @if (beautifiedFilters.reason) {
      <span class="ml-4 text-on-surface-variant">Reason:&nbsp;</span>
      <span class="text-on-surface">{{ beautifiedFilters.reason }}</span>
    }
    @if (beautifiedFilters.detailedReason) {
      <span class="ml-4 text-on-surface-variant">Detailed reason:&nbsp;</span>
      <span class="text-on-surface">{{
        beautifiedFilters.detailedReason
      }}</span>
    }
  </div>
</ng-template>
