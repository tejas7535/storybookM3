<mat-expansion-panel class="panel mat-elevation-z0" [expanded]="true">
  <mat-expansion-panel-header>
    <h6>Classification</h6>
  </mat-expansion-panel-header>
  <ng-container
    *ngIf="
      (classificationResult$ | async)?.categories &&
      !(classificationResult$ | async)?.loading
    "
  >
    <mat-chip-list>
      <span
        *ngFor="
          let category of (classificationResult$ | async).categories;
          trackBy: trackByFn;
          index as i
        "
      >
        Line {{ i + 1 }}:
        <div>
          <mat-chip
            *ngFor="let line of category; trackBy: trackByFn; index as j"
          >
            {{ category[j] }}
            {{
              (classificationResult$ | async).probabilities[i][j]
                | percent: '0.0-2'
            }}
          </mat-chip>
        </div>

        <mat-divider></mat-divider>
      </span>
    </mat-chip-list>
  </ng-container>
  <ng-container
    *ngIf="
      !(classificationResult$ | async)?.categories &&
      !(classificationResult$ | async)?.loading
    "
  >
    <div fxLayout="column" fxLayoutAlign="center center" class="empty-state">
      <h3>Nothing has been classified yet</h3>
      <img src="../../../../assets/empty-states/tagging.png" height="153px" />
      <p>
        Please add your text and click 'classify' to the classfication the
        tagging.
      </p>
    </div>
  </ng-container>
  <ng-container *ngIf="(classificationResult$ | async)?.loading">
    <div class="ghost" @fadeInAnimation>
      <sta-ghost-line-elements [numberOfLines]="7"></sta-ghost-line-elements>
    </div>
  </ng-container>
</mat-expansion-panel>
