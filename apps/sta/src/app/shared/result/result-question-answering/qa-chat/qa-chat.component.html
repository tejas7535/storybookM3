<div>
  <div class="message-wrapper flex-start">
    <div class="bot-image-wrapper">
      <img
        src="../../../../../assets/question-answering/avatar.png"
        height="31px"
        width="24px"
      />
      <div class="message bot-message">
        <div class="arrow arrow-left"></div>
        Hi {{ userGivenName$ | async }}, <br />
        Nice to meet you! You can ask me something about the text.
      </div>
    </div>
  </div>

  <ng-container
    *ngFor="let questionAndAnswer of questionsAndAnswers; trackBy: trackByFn"
  >
    <div class="message-wrapper message-right">
      <div class="message user-message">
        <div class="arrow arrow-right"></div>
        {{ questionAndAnswer.question }}
      </div>
    </div>

    <div class="message-wrapper flex-start">
      <ng-container
        *ngIf="questionAndAnswer.answer === undefined && answerIsLoading"
      >
        <div class="bot-image-wrapper">
          <img
            src="../../../../../assets/question-answering/avatar.png"
            height="31px"
            width="24px"
          />
          <div class="message bot-message loading-dots">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="questionAndAnswer.answer">
        <div class="bot-image-wrapper">
          <img
            src="../../../../../assets/question-answering/avatar.png"
            height="31px"
            width="24px"
          />
          <div class="message bot-message">
            <div class="arrow arrow-left"></div>
            {{ getConfidenceAnswer(questionAndAnswer.answer) }}
          </div>
        </div>
        <div
          *ngIf="questionAndAnswer.answer.logit > 0"
          class="message bot-message spacing-following-message"
        >
          {{ questionAndAnswer.answer.exactMatch }}
        </div>

        <div class="message bot-message spacing-following-message">
          {{
            getReengagementMessage(
              questionAndAnswer.answer.reengagementMessageIndex
            )
          }}
        </div>
      </ng-container>
    </div>
  </ng-container>

  <mat-form-field class="user-input" appearance="fill">
    <mat-label>What's your question?</mat-label>
    <input
      matInput
      [disabled]="answerIsLoading"
      type="text"
      [(ngModel)]="userInput"
      (keydown.enter)="sendQuestion()"
    />
    <button
      mat-button
      [disabled]="answerIsLoading"
      matSuffix
      mat-icon-button
      (click)="sendQuestion()"
    >
      <mat-icon class="send-icon">send</mat-icon>
    </button>
  </mat-form-field>
</div>
