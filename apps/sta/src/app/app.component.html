<div fxLayout="column" class="full-height">
  <schaeffler-header
    class="full-height"
    [platformTitle]="title"
    [toggleEnabled]="(isAuthenticated$ | async) === true"
  >
    <schaeffler-user-menu
      user-menu
      *ngIf="(isAuthenticated$ | async) === true"
      [user]="username$ | async"
    >
    </schaeffler-user-menu>
    <ng-container>
      <ng-container
        *ngIf="(isAuthenticated$ | async) === true; else showLandingPage"
      >
        <schaeffler-sidebar>
          <ng-container sidebar>
            <schaeffler-sidebar-elements
              [elements]="sidebarElements"
            ></schaeffler-sidebar-elements>
          </ng-container>

          <ng-container content>
            <schaeffler-settings-sidebar
              [open]="settingsSidebarOpen"
              [openSidebarBtn]="!isHome"
              (openedChange)="settingsSidebarOpenedChanges($event)"
              [triggerBtnIcon]="triggerBtnIcon"
              [width]="
                isSidebarExpanded
                  ? (isLessThanMedium$ | async)
                    ? sidebarWidthExpandedMobile
                    : (isMedium$ | async)
                    ? sidebarWidthExpandedTablet
                    : sidebarWidthExpanded
                  : (isMobile$ | async)
                  ? sidebarWidthExpandedMobile
                  : sidebarWidth
              "
            >
              <ng-container container>
                <div class="site-content">
                  <div class="router-content">
                    <router-outlet></router-outlet>
                  </div>
                  <schaeffler-footer
                    [footerLinks]="footerLinks"
                  ></schaeffler-footer>
                </div>
              </ng-container>
              <ng-container sidebar>
                <sta-result [currentService]="currentService"></sta-result>
                <button
                  mat-icon-button
                  (click)="closeSidebar()"
                  class="close-icon"
                >
                  <mat-icon>chevron_right</mat-icon>
                  <mat-icon>chevron_right</mat-icon>
                </button>
                <button
                  mat-icon-button
                  (click)="resizeSidebar()"
                  class="resize-icon"
                  *ngIf="(isMobile$ | async) === false"
                >
                  <mat-icon
                    fontSet="schaeffler-icons"
                    [fontIcon]="resizeIcon"
                  ></mat-icon>
                </button>
              </ng-container>
            </schaeffler-settings-sidebar>
          </ng-container>
        </schaeffler-sidebar>
      </ng-container>

      <ng-template #showLandingPage>
        <sta-landing
          class="full-height"
          *ngIf="!alreadyVisited && (isAuthenticated$ | async) === false"
        ></sta-landing>
      </ng-template>
    </ng-container>
  </schaeffler-header>
</div>
