<div
  class="flex h-full w-full flex-col overflow-auto bg-surface"
  *transloco="let t; read: 'learnmore'"
>
  <div class="fixed z-10 w-full">
    <schaeffler-subheader
      [subheaderTitle]="t(translocoKey + '.title')"
      [breadcrumbs]="breadcrumbs"
    >
      <!-- 
        <ng-container subheaderInlineContent>
        <div class="hidden flex-row gap-4 md:flex">
          <button
            mat-raised-button
            (click)="onShareButtonClick()"
            class="!my-auto"
          >
            {{ t('feedback') }}
          </button>
        </div>
      </ng-container>
     -->
    </schaeffler-subheader>
  </div>
  <div
    class="mt-[129px] flex w-full flex-1 flex-row justify-center gap-12 overflow-y-auto px-14"
  >
    <div class="max-w-7xl">
      <div class="relative text-high-emphasis-dark-bg">
        <img
          class="h-80 w-full rounded-lg"
          [src]="imgUrl"
          [title]="imgTitle"
          [alt]="imgTitle"
        />
        <!-- <div class="h-80 w-full rounded-lg bg-secondary-900"></div> -->
        <div class="absolute top-28 left-8">
          <div class="text-h3">{{ t(translocoKey + '.title') }}</div>
          <div class="text-subtitle-2">{{ t(translocoKey + '.subTitle') }}</div>
        </div>
        <mat-icon
          class="absolute right-20 top-20 !h-48 !w-48"
          [svgIcon]="svgIconUrl"
        ></mat-icon>
      </div>
      <div>
        <!-- overview section -->
        <div class="text-h6 py-4 text-high-emphasis">{{ t('overview') }}</div>
        <!-- truncated text (only text)-->
        <div class="space-y-6" [ngClass]="{ hidden: showMore }">
          <div
            *ngFor="
              let content of getTruncatedOverview(
                t(translocoKey + '.content'),
                400
              );
              let last = last
            "
          >
            <p class="text-justify" [ngClass]="{ inline: last }">
              {{ content }}
            </p>
            <a
              *ngIf="last"
              class="text-link hover:cursor-pointer hover:underline"
              (click)="toggleShowMore()"
              >{{ t('showmore') }}</a
            >
          </div>
        </div>
        <!-- complete text-->
        <div class="space-y-6" [ngClass]="{ hidden: !showMore }">
          <div
            *ngFor="let part of t(translocoKey + '.content'); let last = last"
          >
            <img
              class="m-auto"
              *ngIf="isImage(part)"
              [src]="part"
              title="learnmore"
              alt="learnmore"
            />
            <p
              class="text-justify"
              [ngClass]="{ inline: last }"
              *ngIf="!isImage(part)"
            >
              {{ part }}
            </p>
            <a
              *ngIf="last"
              class="text-link hover:cursor-pointer hover:underline"
              (click)="toggleShowMore()"
              >{{ t('showless') }}</a
            >
          </div>
        </div>

        <!-- action buttons -->
        <div class="flex w-full justify-center pt-7 pb-5">
          <ng-container *ngIf="hasRequiredRoles() | ngrxPush; else reqAccess">
            <a [href]="appLink" mat-button color="primary">{{
              t('openApp')
            }}</a>
          </ng-container>
          <ng-template #reqAccess>
            <a [href]="samsLink" target="_blank" mat-button color="primary">{{
              t('getAccess')
            }}</a>
          </ng-template>
        </div>
        <!-- Tutorial section -->
        <div *ngIf="guides.length > 0">
          <div class="text-h6 py-6 text-high-emphasis">{{ t('guides') }}</div>
          <div class="grid grid-cols-2">
            <div
              class="my-4 mx-8 flex border-spacing-4 flex-row gap-4 rounded border border-border p-6"
              *ngFor="let guide of guides"
            >
              <div class="w-1/3 min-w-fit" *ngIf="guide.image">
                <img class="w-full" src="{{ guide.image }}" />
              </div>
              <div class="w-auto">
                <div class="text-h6 pb-8">
                  {{ t(translocoKey + '.' + guide.title) }}
                </div>
                <div class="space-y-4">
                  <p *ngFor="let par of t(translocoKey + '.' + guide.content)">
                    {{ par }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- link pane -->
    <div class="w-auto">
      <ng-component *ngFor="let group of linkGroups">
        <div class="text-caption font-medium text-medium-emphasis">
          {{ t(translocoKey + '.' + group.title) }}
        </div>
        <ul class="pb-8">
          <li class="mt-3" *ngFor="let link of group.links">
            <a
              class="text-caption text-link hover:underline"
              [href]="t(translocoKey + '.' + link.uri)"
              >{{ t(translocoKey + '.' + link.name) }}</a
            >
          </li>
        </ul>
      </ng-component>
    </div>
  </div>
</div>
