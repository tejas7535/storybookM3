<div
  class="flex h-full w-full flex-col overflow-auto bg-surface"
  *transloco="let t; read: 'learnmore'"
>
  <div class="fixed z-10 w-full">
    <schaeffler-subheader
      [subheaderTitle]="t(translocoKey + '.title')"
      [breadcrumbs]="breadcrumbs"
    >
      <!--
        <ng-container subheaderInlineContent>
        <div class="hidden flex-row gap-4 md:flex">
          <button
            mat-raised-button
            (click)="onShareButtonClick()"
            class="!my-auto"
          >
            {{ t('feedback') }}
          </button>
        </div>
      </ng-container>
     -->
    </schaeffler-subheader>
  </div>
  <div
    class="mt-[129px] flex w-full flex-1 flex-col md:flex-row md:justify-center gap-12 overflow-y-auto md:px-14 px-8"
  >
    <div class="max-w-7xl">
      <div class="relative text-high-emphasis-dark-bg">
        <div
          class="absolute top-0 h-80 w-full rounded-lg bg-[#000]"
          [ngClass]="{ 'opacity-60': darkenImg, 'opacity-0': !darkenImg }"
        ></div>
        <img
          class="top-0 h-80 w-full rounded-lg select-none object-cover"
          [src]="imgUrl"
          [title]="imgTitle"
          [alt]="imgTitle"
        />
        <!-- <div class="h-80 w-full rounded-lg bg-secondary-900"></div> -->
        <div
          class="absolute top-28 md:inset-x-8 inset-x-4 flex flex-col max-w-full flex-wrap"
        >
          <h2 class="text-h4 md:text-h3 break-words max-w-full">
            {{ t(translocoKey + '.title') }}
          </h2>
          <div class="text-subtitle-2">{{ t(translocoKey + '.subTitle') }}</div>
        </div>
        <mat-icon
          class="absolute md:right-20 md:top-20 md:!h-48 md:!w-48 !w-14 !h-14 left-auto bottom-auto right-4 top-4"
          [svgIcon]="svgIconUrl"
        ></mat-icon>
      </div>
      <div>
        <div class="flex w-full justify-end py-4">
          <ng-container *ngIf="hasRequiredRoles() | ngrxPush; else reqAccess">
            <a [href]="appLink" mat-button color="primary" [disabled]="!appLink"
              >{{ t('openApp') }}
              <mat-icon> open_in_new </mat-icon>
            </a>
          </ng-container>
          <ng-template #reqAccess>
            <a [href]="samsLink" target="_blank" mat-button color="primary">{{
              t('getAccess')
            }}</a>
          </ng-template>
        </div>
        <!-- overview section -->
        <div class="py-4 text-h6 text-high-emphasis">{{ t('overview') }}</div>
        <!-- complete text-->
        <div class="space-y-6 learn-more-contents" [ngClass]="translocoKey">
          <div
            *ngFor="let part of t(translocoKey + '.content'); let last = last"
          >
            <img
              class="m-auto learnmore-image"
              *ngIf="isImage(part)"
              [src]="getAssetPath(part)"
              title="learnmore"
              alt="learnmore"
            />
            <p
              class="text-justify"
              [ngClass]="{ inline: last }"
              *ngIf="!isImage(part)"
              [innerHTML]="part"
            ></p>
          </div>
        </div>

        <!-- action buttons -->
        <div class="flex w-full justify-center pt-7 pb-5">
          <ng-container *ngIf="hasRequiredRoles() | ngrxPush; else reqAccess">
            <a
              [href]="appLink"
              mat-button
              color="primary"
              [disabled]="!appLink"
              >{{ t('openApp') }}</a
            >
          </ng-container>
          <ng-template #reqAccess>
            <a [href]="samsLink" target="_blank" mat-button color="primary">{{
              t('getAccess')
            }}</a>
          </ng-template>
        </div>
        <!-- Tutorial section -->
        <div *ngIf="guides.length > 0">
          <div class="py-6 text-h6 text-high-emphasis">{{ t('guides') }}</div>
          <div class="grid grid-cols-2">
            <div
              class="my-4 mx-8 flex border-spacing-4 flex-row gap-4 rounded border border-border p-6"
              *ngFor="let guide of guides"
            >
              <div class="w-1/3 min-w-fit" *ngIf="guide.image">
                <img class="w-full" src="{{ guide.image }}" />
              </div>
              <div class="w-auto">
                <div class="pb-8 text-h6">
                  {{ t(translocoKey + '.' + guide.title) }}
                </div>
                <div class="space-y-4">
                  <p *ngFor="let par of t(translocoKey + '.' + guide.content)">
                    {{ par }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- link pane -->
    <div class="w-auto">
      <ng-component *ngFor="let group of linkGroups">
        <div class="text-caption font-medium text-medium-emphasis">
          {{ t(translocoKey + '.' + group.title) }}
        </div>
        <ul class="pb-8">
          <li class="mt-3" *ngFor="let link of group.links">
            <a
              class="text-caption text-link hover:underline"
              [href]="t(translocoKey + '.' + link.uri)"
              >{{ t(translocoKey + '.' + link.name) }}</a
            >
          </li>
        </ul>
      </ng-component>
    </div>
  </div>
</div>
