<ng-container
  *transloco="let t; read: 'materialsSupplierDatabase.contactdialog'"
>
  <div mat-dialog-title class="!px-0">
    <div
      class="inline-flex w-full flex-row content-around justify-between pl-4 pb-3 pr-2"
    >
      <div class="text-h6 text-high-emphasis my-auto">
        {{ t('title') }}
      </div>
      <button mat-icon-button (click)="closeDialog()">
        <mat-icon class="text-medium-emphasis">close</mat-icon>
      </button>
    </div>
  </div>
  <div mat-dialog-content class="!px-0">
    <div class="flex-5 grid">
      <div
        class="flex flex-row gap-4 text-medium-emphasis text-body-2 p-4 border-b border-b-border"
        *ngFor="let contact of getContacts()"
      >
        <mat-icon class="flex-none">person</mat-icon>
        <span class="basis-1/3 text-subtitle-2 font-bold mt-0.5">
          {{ t('section.' + contact.section) }}:
        </span>
        <span class="flex-grow mt-0.5">{{ t('name.' + contact.name) }}</span>

        <ng-container *ngIf="contact.email">
          <!-- send mail -->
          <a class="flex-none" href="mailto:{{ t('email.' + contact.email) }}">
            <mat-icon class="text-link">mail</mat-icon>
          </a>
          <!-- call via teams -->
          <a
            class="flex-none"
            href="https://teams.microsoft.com/l/call/0/0?users={{
              t('email.' + contact.email)
            }}"
            target="_blank"
          >
            <mat-icon class="text-link">call</mat-icon>
          </a>
        </ng-container>
      </div>
    </div>

    <mat-dialog-actions>
      <div class="flex px-2 gap-2">
        <div class="flex-grow text-subtitle-2">{{ t('learnMoreText') }}</div>
        <div class="flex-none">
          <a
            mat-raised-button
            class="!text-link"
            [href]="t('learnMoreUri')"
            target="_blank"
          >
            <mat-icon>open_in_new</mat-icon>
            {{ t('learnMoreLink') }}
          </a>
        </div>
      </div>
    </mat-dialog-actions>
  </div>
</ng-container>
