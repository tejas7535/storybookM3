<mac-base-dialog
  *transloco="let t; read: 'materialsSupplierDatabase.mainTable.dialog'"
  [txtTitle]="getTitle()"
  [txtCancel]="t('cancel')"
  [txtConfirm]="isEditDialog() ? t('updateMaterial') : t('addMaterial')"
  [valid]="createMaterialForm.valid"
  (accept)="confirmMaterial()"
  (minimize)="minimizeDialog()"
  (cancel)="cancelDialog()"
>
  <div class="flex flex-col gap-y-3">
    <ng-container
      *ngIf="!(dialogLoading$ | ngrxPush) && !(editLoading$ | ngrxPush)"
    >
      <div class="text-subtitle-2 text-high-emphasis">
        {{ t('materialStandardTitle') }}
      </div>
      <div class="flex flex-row gap-x-6">
        <mac-material-standard
          class="w-full"
          [readonly]="isEditDialog()"
          [materialStandardIdControl]="materialStandardIdControl"
          [standardDocumentsControl]="standardDocumentsControl"
          [materialNamesControl]="materialNamesControl"
          [column]="getColumn()"
          macMaterialDialogBasePart
        ></mac-material-standard>
      </div>
      <ng-container>
        <!-- Supplier Block -->
        <div class="text-subtitle-2 text-high-emphasis">
          {{ t('supplierInformationTitle') }}
        </div>
        <mac-manufacturer-supplier
          [readonly]="isEditDialog()"
          [manufacturerSupplierIdControl]="manufacturerSupplierIdControl"
          [supplierControl]="supplierControl"
          [supplierPlantControl]="supplierPlantControl"
          [supplierCountryControl]="supplierCountryControl"
          [column]="getColumn()"
          macMaterialDialogBasePart
        ></mac-manufacturer-supplier>
        <div class="text-subtitle-2 text-high-emphasis">
          {{ t('co2AndProductInformationTitle') }}
        </div>
        <mac-co2-component
          [co2Scope1Control]="co2Scope1Control"
          [co2Scope2Control]="co2Scope2Control"
          [co2Scope3Control]="co2Scope3Control"
          [co2TotalControl]="co2TotalControl"
          [co2ClassificationControl]="co2ClassificationControl"
          [releaseRestrictionsControl]="releaseRestrictionsControl"
          [column]="getColumn()"
          macMaterialDialogBasePart
        >
          <ng-container preCo2Classification>
            <schaeffler-select
              appearance="outline"
              class="w-auto"
              [stringOptions]="categories$ | ngrxPush"
              [control]="categoriesControl"
              [filterFn]="filterFn"
              [label]="t('productCategory')"
              [showTriggerTooltip]="true"
              triggerTooltipDelay="1500"
              tooltipPosition="right"
              name="productCategoryText"
              #dialogControl
            ></schaeffler-select>
          </ng-container>
        </mac-co2-component>
      </ng-container>
    </ng-container>
  </div>
</mac-base-dialog>
