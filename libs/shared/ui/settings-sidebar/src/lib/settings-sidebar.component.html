<mat-sidenav-container autosize [hasBackdrop]="false">
  <mat-sidenav
    #sidebar
    fullscreen
    position="end"
    [opened]="open"
    [mode]="isLessThanMedium ? 'over' : 'side'"
    (openedChange)="onChangeState($event)"
    fixedInViewport="true"
    [fixedTopGap]="isMobileViewPort ? 73 : 60"
    [ngStyle]="{ width: width }"
  >
    <div fxLayout="row">
      <div fxFlex>
        <button
          data-cy="close-settings-sidebar"
          *ngIf="closeSidebarBtn"
          (click)="sidebar.toggle()"
          mat-icon-button
          aria-label="Filter"
        >
          <mat-icon [svgIcon]="isSvgIcon ? triggerBtnIcon : null">
            {{ !isSvgIcon ? triggerBtnIcon : '' }}
          </mat-icon>
        </button>
      </div>
      <ng-content select="[settings-header]"></ng-content>
    </div>
    <ng-content select="[sidebar]"></ng-content>
  </mat-sidenav>
  <mat-sidenav-content>
    <button
      *ngIf="!sidebar.opened && openSidebarBtn"
      mat-mini-fab
      data-cy="open-settings-sidebar"
      class="upper-right"
      aria-label="Filter"
      (click)="sidebar.toggle()"
    >
      <mat-icon [svgIcon]="isSvgIcon ? triggerBtnIcon : null">
        {{ !isSvgIcon ? triggerBtnIcon : '' }}
      </mat-icon>
    </button>
    <ng-content select="[container]"></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>
