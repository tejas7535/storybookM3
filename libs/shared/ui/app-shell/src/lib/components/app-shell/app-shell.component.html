<!-- start header -->
<mat-toolbar
  class="z-10 h-[60px] border-b border-lightBg !pl-2"
  *transloco="let t"
>
  <button
    *ngIf="hasSidebarLeft"
    type="button"
    mat-icon-button
    disableRipple
    class="text-mediumEmphasis"
    (click)="drawer.toggle()"
  >
    <mat-icon *ngIf="sidenavOpen; else menuIcon" [@sidenavToggleAnimation]>
      arrow_back
    </mat-icon>
    <ng-template #menuIcon>
      <mat-icon [@sidenavToggleAnimation]>menu</mat-icon>
    </ng-template>
  </button>
  <span
    class="
      text-subtitle-1
      sm:text-h6
      text-mediumEmphasis
      pr-2
      sm:pr-3
      inline-block
      truncate
      outline-none
    "
    [class.ml-1]="hasSidebarLeft"
    [class.ml-2]="!hasSidebarLeft"
    [class.cursor-pointer]="appTitleLink"
    [routerLink]="appTitleLink ? appTitleLink : undefined"
  >
    <span *ngIf="sidenavOpen; else appTitleTemplate">
      {{ t('shellSidenavHeading') }}
    </span>

    <ng-template #appTitleTemplate>
      <span>{{ appTitle }}</span>
    </ng-template>
  </span>
  <div class="flex-auto"></div>
  <div class="content-wrapper">
    <ng-content select="[headerInlineContent]"></ng-content>
  </div>
  <div class="schaeffler-header-logo"></div>
</mat-toolbar>
<!-- end header -->

<!-- start content container -->
<mat-sidenav-container class="flex flex-col h-full overflow-hidden">
  <!-- start left sidebar -->
  <mat-sidenav
    #drawer
    class="w-[400px] max-w-[90%] pt-[60px]"
    fixedInViewport
    mode="over"
    [(opened)]="sidenavOpen"
    [autoFocus]="false"
  >
    <schaeffler-user-panel
      *ngIf="userName"
      [userName]="userName"
      [userImageUrl]="userImageUrl"
    ></schaeffler-user-panel>
    <mat-divider></mat-divider>
    <ng-content select="[sidenavBody]"></ng-content>
  </mat-sidenav>
  <!-- end left sidebar -->

  <!-- start content -->
  <mat-sidenav-content
    class="flex-col pt-[60px]"
    [ngClass]="footerFixed ? 'footer-fixed' : 'footer-not-fixed'"
  >
    <!-- start main content -->
    <div class="content-wrapper main-content-wrapper">
      <ng-content select="[mainContent]"></ng-content>
    </div>
    <!-- end main content -->

    <!-- start footer -->
    <footer
      *ngIf="hasFooter || footerLinks.length"
      class="flex flex-col items-center justify-between gap-2 lg:flex-row"
    >
      <div class="content-wrapper p-2">
        <ng-content select="[footerContent]"></ng-content>
      </div>
      <div
        class="
          flex
          md:flex-row
          flex-col
          justify-center
          flex-shrink-0
          md:flex
          items-center
        "
      >
        <div class="flex flex-row flex-wrap mx-4 sm:mx-0">
          <ng-container *ngFor="let footerLink of footerLinks; let i = index">
            <a
              *ngIf="footerLink.external"
              [href]="footerLink.link"
              target="_blank"
              rel="noopener noreferrer"
              class="text-light text-caption leading-4 py-1"
            >
              {{ footerLink.title }}
            </a>
            <div
              *ngIf="!footerLink.external"
              [routerLink]="footerLink.link"
              class="
                footer-link-internal
                cursor-pointer
                inline-block
                text-light text-caption
                outline-none
                leading-4
                py-1
              "
            >
              {{ footerLink.title }}
            </div>
            <span
              class="separator text-light text-caption mx-1 leading-4 py-1"
              *ngIf="i !== footerLinks.length - 1 || appVersion"
              >|</span
            >
          </ng-container>
          <ng-container *ngIf="appVersion">
            <span id="version" class="text-light text-caption leading-4 py-1">
              {{ appVersion }}
            </span>
          </ng-container>
        </div>
        <div class="schaeffler-footer-logo m-3"></div>
      </div>
    </footer>
    <!-- end footer -->
  </mat-sidenav-content>
  <!-- end content -->
</mat-sidenav-container>
<!-- end content container -->
