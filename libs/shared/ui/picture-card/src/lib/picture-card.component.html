<div class="h-full relative">
  <mat-card
    class="h-full"
    (click)="isClickable ? toggle(false, true) : undefined"
  >
    <img mat-card-image [src]="img" class="max-w-none" />
    <div class="absolute right-0 top-0">
      <button
        mat-icon-button
        *ngIf="active"
        (click)="deactivate()"
        class="focus:outline-none"
      >
        <mat-icon class="text-light">clear</mat-icon>
      </button>
    </div>
    <h6 class="mb-3">{{ title }}</h6>
    <mat-card-content>
      <ng-content select="[card-content]" *ngIf="active"></ng-content>
    </mat-card-content>
    <div
      [ngClass]="
        !hideActionsOnActive || (hideActionsOnActive && !active) ? 'mb-12' : ''
      "
    ></div>
    <mat-card-actions
      class="absolute bottom-4"
      *ngIf="!hideActionsOnActive || (hideActionsOnActive && !active)"
    >
      <ng-content select="[card-actions]"></ng-content>
      <schaeffler-picture-card-action
        *ngFor="let action of actions; trackBy: trackByFn"
        [text]="action.text"
        [disabled]="action.disabled"
        (click)="
          action.toggleAction || action.selectAction
            ? toggle(
                action.toggleAction ? !active : false,
                action.selectAction ? !selected : false
              )
            : action.click
        "
      ></schaeffler-picture-card-action>
    </mat-card-actions>
  </mat-card>
  <div
    class="
      absolute
      w-full
      top-0
      bottom-0
      hover:cursor-pointer
      focus:cursor-pointer
      hover:bg-hoverOverlay
      focus:bg-focusOverlay
      rounded
    "
    [ngClass]="{ 'bg-disabledOverlay': selected }"
  >
    <mat-icon
      *ngIf="selected"
      class="absolute top-2 right-2 text-primary"
      filled
      >check_circle</mat-icon
    >
  </div>
</div>
